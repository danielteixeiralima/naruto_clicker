### TREE

  .gitignore
  SISTEMA_DROP.md
  app.py
  bundle.py
icones/
  icones/choji.png
  icones/gaara.png
  icones/hinata.png
  icones/ino.png
  icones/kankuro.png
  icones/kiba.png
  icones/lee.png
  icones/naruto.png
  icones/neji.png
  icones/sakura.png
  icones/sasuke.png
  icones/shikamaru.png
  icones/shino.png
  icones/temari.png
  icones/tenten.png
static/
static/css/
  static/css/style.css
static/img/
  static/img/battle_bg.png
  static/img/cloud.png
  static/img/day_bg.png
  static/img/elemental_cycle.png
  static/img/kunai.png
  static/img/kunai_cursor.png
  static/img/naruto_face.png
  static/img/naruto_full.png
  static/img/sakura_face.png
  static/img/sakura_full.png
  static/img/sasuke_face.png
  static/img/sasuke_full.png
static/img/elements/
  static/img/elements/earth.png
  static/img/elements/fire.png
  static/img/elements/lightning.png
  static/img/elements/water.png
  static/img/elements/wind.png
static/img/enemies/
  static/img/enemies/boss.png
  static/img/enemies/enemy_1.png
  static/img/enemies/enemy_main.png
  static/img/enemies/enemy_v4.png
  static/img/enemies/enemy_v5.png
  static/img/enemies/enemy_v6.png
static/img/heroes/
static/img/heroes/icons/
  static/img/heroes/icons/choji_icon.png
  static/img/heroes/icons/chouji_icon.png
  static/img/heroes/icons/gaara_icon.png
  static/img/heroes/icons/hinata_icon.png
  static/img/heroes/icons/ino_icon.png
  static/img/heroes/icons/kankuro_icon.png
  static/img/heroes/icons/kiba_icon.png
  static/img/heroes/icons/lee_icon.png
  static/img/heroes/icons/naruto_icon.png
  static/img/heroes/icons/neji_icon.png
  static/img/heroes/icons/rocklee_icon.png
  static/img/heroes/icons/sakura_icon.png
  static/img/heroes/icons/sasuke_icon.png
  static/img/heroes/icons/shikamaru_icon.png
  static/img/heroes/icons/shino_icon.png
  static/img/heroes/icons/temari_icon.png
  static/img/heroes/icons/tenten_icon.png
static/img/items/
  static/img/items/poison.png
static/img/skills/
  static/img/skills/skill_1_1.png
  static/img/skills/skill_1_2.png
  static/img/skills/skill_1_3.png
  static/img/skills/skill_1_4.png
  static/img/skills/skill_2_1.png
  static/img/skills/skill_2_2.png
  static/img/skills/skill_2_3.png
  static/img/skills/skill_2_4.png
  static/img/skills/skill_3_1.png
  static/img/skills/skill_3_2.png
  static/img/skills/skill_3_3.png
  static/img/skills/skill_3_4.png
static/js/
  static/js/game.js
  static/js/game_data.js
  static/js/game_data_v3.js
  static/js/game_v3.js
templates/
  templates/index.html


### FILES


----- FILE: SISTEMA_DROP.md  (sha1:171b8b098bc5, bytes:3397) -----
# Sistema de Drop de Itens - Naruto Clicker

## Resumo da Implementa√ß√£o

Foi implementado um sistema completo de drop de itens no jogo Naruto Clicker com as seguintes caracter√≠sticas:

### Caracter√≠sticas Principais

1. **Zona de Drop**: Arenas 10 a 15
2. **Chance de Drop**: 2% por inimigo morto (muito raro!)
3. **Restri√ß√£o**: Apenas inimigos comuns dropam itens (bosses n√£o dropam)
4. **Item**: Frasco de Veneno
5. **Destino**: O item vai automaticamente para a mochila do jogador

### Arquivos Modificados

#### 1. `static/js/game_v3.js`
- **Fun√ß√£o `monterDeath()`**: Adicionada l√≥gica de drop de itens
  - Verifica se o inimigo √© um boss (zona m√∫ltipla de 5)
  - Verifica se est√° na zona de drop (10-15)
  - Gera n√∫mero aleat√≥rio para chance de 20%
  - Cria objeto do item dropado
  - Adiciona ao invent√°rio e mostra notifica√ß√£o

- **Fun√ß√£o `addItemToInventory(newItem)`**: Nova fun√ß√£o
  - Verifica se o item j√° existe no invent√°rio
  - Se existe, incrementa a contagem
  - Se n√£o existe, adiciona em um slot vazio
  - Retorna true/false para sucesso/falha
  - Salva o jogo automaticamente

- **Fun√ß√£o `showItemDropNotification(item)`**: Nova fun√ß√£o
  - Cria notifica√ß√£o visual animada
  - Mostra √≠cone do item, texto "ITEM DROPADO!" e nome do item
  - Desaparece automaticamente ap√≥s 3 segundos

- **Fun√ß√£o `renderInventory()`**: Atualizada
  - Suporta tanto emojis quanto imagens como √≠cones
  - Renderiza corretamente itens com imagens

- **Fun√ß√µes `saveGame()` e `loadGame()`**: Atualizadas
  - Agora salvam e carregam o invent√°rio do localStorage

#### 2. `static/css/style.css`
- **`.item-drop-notification`**: Estilos para notifica√ß√£o de drop
  - Fundo escuro com borda dourada brilhante
  - Anima√ß√µes de aparecimento e desaparecimento
  - Centralizado na tela
  - Z-index alto para ficar sobre tudo

- **`.item-icon-img`**: Estilos para imagens de itens no invent√°rio
  - Tamanho 100% do slot
  - Object-fit contain para manter propor√ß√µes
  - Drop shadow para destaque

#### 3. `static/img/items/poison.png`
- Imagem do frasco de veneno criada
- Estilo pixel art com l√≠quido verde brilhante
- Caveira no r√≥tulo
- Fundo transparente

### Como Funciona

1. Quando um inimigo comum (n√£o boss) √© morto nas arenas 10-15:
   - O jogo gera um n√∫mero aleat√≥rio
   - Se for menor que 0.20 (20%), um item dropa

2. Quando um item dropa:
   - √â criado um objeto com as propriedades do item
   - O item √© adicionado ao invent√°rio via `addItemToInventory()`
   - Uma notifica√ß√£o visual aparece na tela
   - O jogo √© salvo automaticamente

3. O invent√°rio:
   - Itens id√™nticos s√£o empilhados (count aumenta)
   - Itens diferentes ocupam slots separados
   - M√°ximo de 40 slots
   - Persistido no localStorage

### Exemplo de Item Dropado

```javascript
{
    icon: './static/img/items/poison.png',
    name: 'Frasco de Veneno',
    description: 'Um veneno mortal usado por ninjas',
    count: 1,
    isImage: true
}
```

### Pr√≥ximos Passos Poss√≠veis

1. Adicionar mais tipos de itens com diferentes raridades
2. Implementar efeitos dos itens (buffs, dano extra, etc.)
3. Adicionar diferentes chances de drop por arena
4. Criar sistema de uso de itens
5. Adicionar sons quando itens dropam
6. Criar diferentes pools de itens por zona


----- FILE: app.py  (sha1:70d1f21d0ff8, bytes:799) -----
from flask import Flask, render_template, send_from_directory
import os

app = Flask(__name__)

# Desabilitar cache completamente
app.config['SEND_FILE_MAX_AGE_DEFAULT'] = 0
app.config['TEMPLATES_AUTO_RELOAD'] = True

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/static/<path:path>')
def send_static(path):
    return send_from_directory('static', path)

if __name__ == '__main__':
    print("\n" + "="*60)
    print("üéÆ NARUTO CLICKER - Servidor Iniciado!")
    print("="*60)
    print("üìç Acesse: http://localhost:8080")
    print("üîÑ Cache desabilitado - mudan√ßas aparecem imediatamente")
    print("‚ö†Ô∏è  Pressione Ctrl+C para parar o servidor")
    print("="*60 + "\n")
    app.run(debug=True, port=8080, host='0.0.0.0')


----- FILE: bundle.py  (sha1:995d1eb04172, bytes:2349) -----
# make_bundle.py
import os, hashlib

ROOT = os.getcwd()
EXCLUDE_DIRS = {
    '.git','node_modules','venv','.venv','__pycache__','.pytest_cache',
    'dist','build','.next','.idea','.vscode',
    'rpa_screenshots','rpa_artifacts','uploads','logs',
    # 'instance',  # <- descomente para n√£o incluir nada de instance/
}
INCLUDE_EXTS = {
    '.py','.ts','.tsx','.js','.jsx','.json','.yml','.yaml','.toml',
    '.ini','.cfg','.txt','.md','.sql','.html','.css','.env.example',
    '.jinja','.jinja2','.j2',
}
MAX_BYTES = 800_000  # sobe um pouco pra evitar truncar texto √∫til

def rel(p): 
    r = os.path.relpath(p, ROOT)
    return '.' if r == '.' else r.replace('\\','/')

lines = []

# 1) √Årvore do projeto
lines.append("### TREE\n")
for base, dirs, files in os.walk(ROOT):
    dirs[:] = [d for d in dirs if d not in EXCLUDE_DIRS]
    base_rel = rel(base)
    if base_rel != '.':
        lines.append(f"{base_rel}/")
    for f in sorted(files):
        lines.append(f"  {rel(os.path.join(base,f))}")

# 2) Conte√∫do dos arquivos de texto
lines.append("\n\n### FILES\n")
rpa_sha = ""
files_count = 0

for base, dirs, files in os.walk(ROOT):
    dirs[:] = [d for d in dirs if d not in EXCLUDE_DIRS]
    for f in sorted(files):
        p = os.path.join(base, f)
        ext = os.path.splitext(f)[1].lower()
        if ext in INCLUDE_EXTS and os.path.getsize(p) <= MAX_BYTES:
            with open(p, 'rb') as fh:
                raw = fh.read()
            # tenta decodificar como texto
            txt = None
            for enc in ('utf-8', 'latin-1'):
                try:
                    txt = raw.decode(enc)
                    break
                except UnicodeDecodeError:
                    continue
            if txt is None:
                continue
            sha = hashlib.sha1(raw).hexdigest()[:12]
            files_count += 1
            if rel(p).endswith("rpa.py"):
                rpa_sha = sha
            lines.append(
                f"\n----- FILE: {rel(p)}  (sha1:{sha}, bytes:{len(raw)}) -----\n{txt}"
            )

with open('bundle.txt','w',encoding='utf-8') as f:
    f.write('\n'.join(lines))

print(f"Gerado bundle.txt na pasta do projeto. Arquivos inclu√≠dos: {files_count}")
if rpa_sha:
    print(f"SHA do rpa.py no bundle: {rpa_sha}")


----- FILE: static/css/style.css  (sha1:415d8d757cba, bytes:40724) -----
:root {
    --bg-color: #2c2c2c;
    --panel-bg: #f5e6ca;
    /* Cor de pergaminho */
    --panel-border: #4a3b2a;
    --primary-orange: #ff6600;
    --text-color: #333;
    --gold-color: #ffd700;
    --dps-color: #ff4500;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Roboto', sans-serif;
    background-image: url('../img/battle_bg.png');
    background-size: cover;
    background-position: center;
    color: var(--text-color);
    height: 100vh;
    overflow: hidden;
    user-select: none;
    position: relative;
}



.game-container {
    display: flex;
    height: 100vh;
    width: 100%;
    max-width: 100%;
    padding: 20px;
    box-sizing: border-box;
    margin: 0;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
}

.panel {
    background-color: var(--panel-bg);
    border: 5px solid var(--panel-border);
    border-radius: 8px;
    margin: 0 15px;
    /* Espa√ßo entre as faixas */
    padding: 15px;
    display: flex;
    flex-direction: column;
    position: relative;
    box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.1);
}

.panel::before {
    content: "";
    /* Textura de papel */
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('https://www.transparenttextures.com/patterns/aged-paper.png');
    opacity: 0.4;
    pointer-events: none;
    z-index: 0;
}

.left-panel {
    flex: 2.5;
    /* Aumentado de 2.2 para 2.5 para dar mais espa√ßo */
    min-width: 480px;
    /* Aumentado de 450px para 480px */
    z-index: 1;
}

/* Mais larga */
.center-panel {
    flex: 6;
    /* Abre muito mais espa√ßo no meio */
    z-index: 1;
    background-color: rgba(255, 255, 255, 0.1);
    border: none;
    box-shadow: none;
    background: none;
}

/* Center panel is transparent to see bg */

.center-panel .battle-arena {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    /* Centraliza verticalmente o conjunto */
    align-items: center;
    position: relative;
    padding-top: 0;
}

.right-panel {
    flex: 1.2;
    min-width: 280px;
    z-index: 1;
    display: flex;
    flex-direction: column;
    padding: 20px;
    background-image: url('https://www.transparenttextures.com/patterns/aged-paper.png'),
        linear-gradient(to bottom, #f5e6ca 0%, #e8d5b5 100%);
    border-left: 5px solid #4a3b2a;
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
    position: relative;
}

.right-panel h3 {
    text-align: center;
    font-size: 1.8em;
    color: #4e342e;
    border-bottom: 2px solid #8d6e63;
    padding-bottom: 10px;
    margin-bottom: 20px;
    text-transform: uppercase;
}

#stats-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex: 1;
}

#stats-list li {
    font-family: 'Roboto', sans-serif;
    font-size: 1.1em;
    padding: 12px 10px;
    border-bottom: 1px dashed #a1887f;
    color: #3e2723;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#stats-list li span {
    font-family: 'Bangers', cursive;
    color: #bf360c;
    font-size: 1.2em;
}

/* Estiliza√ß√£o do Bot√£o de Reset */
.reset-container {
    margin-top: auto;
    padding-top: 20px;
    text-align: center;
}

.reset-btn {
    background: linear-gradient(to bottom, #d32f2f 0%, #b71c1c 100%);
    color: white;
    border: 2px solid #7f0000;
    padding: 12px 20px;
    font-family: 'Bangers', cursive;
    font-size: 1.2em;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 0 #5f0000;
    transition: all 0.1s;
    width: 100%;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.reset-btn:hover {
    background: linear-gradient(to bottom, #e53935 0%, #c62828 100%);
}

.reset-btn:active {
    transform: translateY(4px);
    box-shadow: none;
}

/* Scroll Lists */
.scroll-content {
    overflow-y: auto;
    overflow-x: hidden;
    /* Remove a barra horizontal */
    flex: 1;
    padding-right: 15px;
    /* Aumentado de 5px para 15px para afastar a barra dos cards */
}

.scroll-content::-webkit-scrollbar {
    width: 8px;
}

.scroll-content::-webkit-scrollbar-thumb {
    background: var(--primary-orange);
    border-radius: 4px;
}

/* Heroes List Expanded */

.gold-display-left {
    font-family: 'Bangers', cursive;
    font-size: 2.5em;
    /* Bem grande */
    color: var(--gold-color);
    text-shadow: 2px 2px 0 #000;
    text-align: center;
    margin-bottom: 20px;
    background: rgba(0, 0, 0, 0.6);
    padding: 10px;
    border-radius: 10px;
    border: 2px solid #8b4513;
}

/* Header Panel (Equipe Ninja) */
.header-panel {
    border-bottom: 2px solid #8b4513;
    margin-bottom: 15px;
    padding-bottom: 10px;
}

.header-panel h2 {
    font-family: 'Shojumaru', cursive;
    margin: 0;
    color: #b33e00;
    font-size: 1.8em;
    text-align: center;
}

/* Stats Display (DPS/Click) */
.stats-display-container {
    display: flex;
    justify-content: space-around;
    gap: 10px;
    margin-top: 10px;
}

.dps-display,
.click-display {
    flex: 1;
    background: linear-gradient(135deg, #444, #222);
    border: 2px solid #ff9800;
    border-radius: 8px;
    padding: 8px 5px;
    color: #fff;
    font-family: 'Bangers', cursive;
    font-size: 1.4em;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    text-shadow: 1px 1px 2px #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.dps-display span,
.click-display span {
    color: #ffd700;
    font-size: 1.1em;
}

.dps-display {
    border-color: #ff5722;
}

.click-display {
    border-color: #2196f3;
}

/* Heroes List Expanded */
.hero-item {
    background: rgba(255, 255, 255, 0.85);
    /* Mais opaco para leitura */
    border: 3px solid #8b4513;
    border-radius: 8px;
    margin-bottom: 12px;
    padding: 15px;
    /* Box maior */
    display: flex;
    align-items: center;
    transition: transform 0.1s;
    cursor: pointer;
    min-height: 80px;
    /* Garante altura */
}

.hero-item:hover {
    transform: scale(1.02);
    background: rgba(255, 255, 255, 0.95);
}

.hero-item.disabled {
    filter: grayscale(1);
    opacity: 0.7;
    cursor: not-allowed;
}

.hero-img {
    width: 80px;
    /* Imagem bem maior */
    height: 80px;
    border-radius: 10px;
    /* Quadrado arredondado em vez de circulo para mostrar mais arte */
    border: 3px solid var(--panel-border);
    margin-right: 15px;
    background: #ccc;
    flex-shrink: 0;
}

.hero-info {
    flex: 1;
}

.hero-name {
    font-weight: bold;
    font-family: 'Shojumaru', cursive;
    font-size: 1.4em;
    color: #b33e00;
    margin-bottom: 5px;
}

.hero-stats {
    font-size: 1.1em;
    color: #333;
    font-weight: bold;
}

.hero-cost {
    font-weight: bold;
    color: #d68910;
    font-size: 1.2em;
}

.hero-level {
    background: var(--panel-border);
    color: #fff;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.9em;
    float: right;
    margin-left: 10px;
}

/* Monster & Battle */
.monster-container {
    text-align: center;
    position: relative;
    cursor: url('../img/kunai_cursor.png') 0 0, crosshair;
}

.monster-visual {
    width: 440px;
    /* Aumentado para 440px */
    height: 440px;
    margin: 80px auto 0 auto;
    /* Aumenta espa√ßo superior para descer o ninja conforme pedido */
    transition: transform 0.05s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.monster-visual img {
    max-width: 100%;
    max-height: 100%;
    filter: drop-shadow(0 10px 10px rgba(0, 0, 0, 0.5));
}

.monster-visual:active {
    transform: scale(0.95);
}

.shake {
    animation: shake 0.2s;
}

.hit-scale {
    animation: hitScale 0.1s ease-out;
}

@keyframes hitScale {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.15);
    }

    /* Aumenta levemente */
    100% {
        transform: scale(1);
    }
}

@keyframes shake {
    0% {
        transform: translate(1px, 1px) rotate(0deg);
    }

    10% {
        transform: translate(-1px, -2px) rotate(-1deg);
    }

    20% {
        transform: translate(-3px, 0px) rotate(1deg);
    }

    30% {
        transform: translate(3px, 2px) rotate(0deg);
    }

    40% {
        transform: translate(1px, -1px) rotate(1deg);
    }

    50% {
        transform: translate(-1px, 2px) rotate(-1deg);
    }

    60% {
        transform: translate(-3px, 1px) rotate(0deg);
    }

    70% {
        transform: translate(3px, 1px) rotate(-1deg);
    }

    80% {
        transform: translate(-1px, -1px) rotate(1deg);
    }

    90% {
        transform: translate(1px, 2px) rotate(0deg);
    }

    100% {
        transform: translate(1px, -2px) rotate(-1deg);
    }
}

.monster-hp-bar {
    width: 380px;
    /* Aumentado para acompanhar o monstro */
    height: 22px;
    background: #555;
    border: 3px solid #000;
    border-radius: 12px;
    overflow: hidden;
    margin: 5px auto;
}

#hp-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff0000, #ff6600);
    transition: width 0.1s linear;
}

.monster-hp-text {
    font-family: 'Bangers', cursive;
    font-size: 1.5em;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
    margin-top: -22px;
    position: relative;
    z-index: 2;
}

#damage-numbers-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.damage-number {
    position: absolute;
    font-family: 'Bangers', cursive;
    font-size: 2em;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
    animation: floatUp 1s ease-out forwards;
}

.damage-crit {
    color: #ff0000;
    font-size: 3em;
}

@keyframes floatUp {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    100% {
        opacity: 0;
        transform: translateY(-100px) scale(1.2);
    }
}

/* Headers & Fonts */
h2,
h3 {
    font-family: 'Shojumaru', cursive;
    letter-spacing: 1px;
    margin: 0 0 10px 0;
    color: #2c2c2c;
}

.gold-display {
    font-family: 'Bangers', cursive;
    font-size: 2em;
    color: var(--gold-color);
    text-shadow: 2px 2px 0 #000;
    background: rgba(0, 0, 0, 0.6);
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.gold-icon {
    height: 30px;
    margin-right: 10px;
}

/* Log Removido, adicionando estilos de Arena */
.arena-selector-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
    background: rgba(0, 0, 0, 0.5);
    padding: 10px;
    border-radius: 15px;
    border: 2px solid #8b4513;
}

.nav-btn {
    background: #ff6600;
    border: 2px solid #4a0000;
    color: white;
    font-weight: bold;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    font-family: 'Bangers', cursive;
    font-size: 1.2em;
}

.nav-btn:hover {
    background: #ff8533;
}

.nav-btn:active {
    transform: scale(0.95);
}

.arenas-scroll {
    flex: 1;
    overflow: hidden;
    margin: 0 10px;
    height: 60px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

#arenas-display {
    display: flex;
    gap: 10px;
    transition: transform 0.3s ease;
}

.arena-box {
    width: 50px;
    height: 50px;
    background: #4a3b2a;
    border: 2px solid #8b4513;
    color: #ffd700;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Bangers', cursive;
    font-size: 1.2em;
    border-radius: 5px;
    cursor: pointer;
    flex-shrink: 0;
    opacity: 0.6;
}

.arena-box.active {
    background: #ff6600;
    border-color: #ffff00;
    transform: scale(1.1);
    opacity: 1;
    box-shadow: 0 0 10px #ff6600;
}

.arena-box.locked {
    background: #222;
    color: #555;
    cursor: not-allowed;
    border-color: #333;
}

/* Upgrade Boxes Compact */
.upgrades-row {
    display: flex;
    gap: 5px;
    margin-top: 5px;
    width: 100%;
    padding-left: 95px;
    /* Alinhar com o nome do heroi (img width + margin) */
}

.upgrade-box {
    width: 30px;
    height: 30px;
    background-color: #4a3b2a;
    border: 2px solid #8b4513;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2em;
    position: relative;
    transition: all 0.2s;
}

.upgrade-box.locked {
    opacity: 0;
    /* Totalmente invis√≠vel se bloqueado (se n√£o tiver nivel 20, 40...) */
    pointer-events: none;
}

.upgrade-box.available {
    background-color: #5d4a35;
    border-color: #ffd700;
    /* Borda dourada para indicar disponivel */
    animation: pulseBorder 2s infinite;
}

.upgrade-box.bought {
    background-color: #228b22;
    /* Verde comprado */
    border-color: #00ff00;
    box-shadow: 0 0 5px #00ff00;
    cursor: default;
}

/* Tooltip (S√≥ no hover) */
.tooltip {
    visibility: hidden;
    background-color: rgba(0, 0, 0, 0.95);
    color: #fff;
    text-align: left;
    border-radius: 6px;
    padding: 8px;
    position: absolute;
    z-index: 1000;
    bottom: 125%;
    left: 50%;
    margin-left: -60px;
    width: 150px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    border: 1px solid #ffd700;
    font-size: 0.8em;
    font-family: 'Roboto', sans-serif;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s;
}

.upgrade-box:hover .tooltip {
    visibility: visible;
    opacity: 1;
}

@keyframes pulseBorder {
    0% {
        border-color: #ffd700;
    }

    50% {
        border-color: #ffaa00;
    }

    100% {
        border-color: #ffd700;
    }
}

.zone-progress-info {
    text-align: center;
    font-family: 'Shojumaru', cursive;
    color: #ffd700;
    background: transparent;
    padding: 0;
    margin-bottom: 20px;
    /* Mais espa√ßo para a barra de vida abaixo */
    margin-top: -20px;
    /* Sobe um pouco mais */
    font-size: 2.8em;
    /* Aumentado levemente */
    text-shadow: 4px 4px 0 #000;
    z-index: 10;
}

/* Boss Timer */
.boss-timer {
    text-align: center;
    font-family: 'Bangers', cursive;
    color: #ff4444;
    background: rgba(0, 0, 0, 0.7);
    padding: 10px 20px;
    margin: -10px auto 20px auto;
    border-radius: 15px;
    font-size: 2.5em;
    text-shadow: 3px 3px 0 #000;
    border: 3px solid #ff0000;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    width: fit-content;
    animation: timerPulse 1s infinite;
}

.boss-timer.warning {
    animation: timerWarning 0.5s infinite;
    color: #ff0000;
    border-color: #ff0000;
}

@keyframes timerPulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

@keyframes timerWarning {

    0%,
    100% {
        transform: scale(1);
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
    }

    50% {
        transform: scale(1.1);
        box-shadow: 0 0 30px rgba(255, 0, 0, 1);
    }
}


/* HERO ITEM REDESIGN (Reference Style) */
.hero-item-new {
    background: #fdf5e6;
    /* Cor de papiro claro */
    border-radius: 12px;
    margin-bottom: 25px;
    padding: 10px;
    position: relative;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    border: 2px solid #dba669;
    min-height: 180px;
    /* Garante espa√ßo para imagem full */
}

/* Header: Nome e Nivel */
.hero-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    /* Alinha na base do texto */
    margin-bottom: 5px;
    border-bottom: 1px dashed #dba669;
    padding-bottom: 5px;
}

.hero-name-title {
    font-family: 'Shojumaru', cursive;
    font-size: 1.6em;
    color: #333;
    text-shadow: 1px 1px 0 #fff;
    margin-left: 5px;
}

.hero-level-badge {
    font-family: 'Bangers', cursive;
    font-size: 2em;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
}

/* Body: Esquerda (Botao + Skills) | Direita (Imagem) */
.hero-body-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.left-section {
    display: flex;
    flex-direction: row;
    /* Botao e Skills lado a lado */
    align-items: center;
    gap: 15px;
    margin-top: 10px;
}

/* Bot√£o de Compra (Azul/Dourado estilo fish game) */
.buy-box {
    background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
    width: 130px;
    height: 70px;
    border-radius: 10px;
    border: 4px solid #ffd700;
    box-shadow: 0 4px 0 #0056b3, 0 5px 10px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: transform 0.1s;
}

.buy-box:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #0056b3;
}

.buy-box.locked {
    background: #555;
    border-color: #333;
    cursor: not-allowed;
    box-shadow: none;
}

.buy-action {
    font-family: 'Bangers', cursive;
    font-size: 1.5em;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
    line-height: 1;
}

.buy-cost {
    font-family: 'Roboto', sans-serif;
    font-weight: bold;
    font-size: 1em;
    color: #fff4e6;
    text-shadow: 1px 1px 0 #000;
    margin-top: 2px;
}

/* Skills Container */
.upgrades-container {
    display: flex;
    gap: 8px;
}

.upgrade-box-new {
    width: 45px;
    height: 45px;
    background: #3e2723;
    border: 3px solid #5d4037;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5em;
    cursor: pointer;
    position: relative;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
}

.upgrade-box-new.locked {
    opacity: 0;
    pointer-events: none;
}

.upgrade-box-new.available {
    background: #5d4037;
    border-color: #ffd700;
    animation: pulseBorder 2s infinite;
}

.upgrade-box-new.bought {
    border-color: #00ff00;
}

.check-mark {
    position: absolute;
    top: -5px;
    right: -5px;
    color: #00ff00;
    font-size: 1em;
    text-shadow: 1px 1px 0 #000;
    font-weight: bold;
}

/* Imagem do Heroi (Full Body, Saindo pra fora se precisar) */
.hero-image-container {
    width: 200px;
    /* Largura fixa para imagem */
    height: 250px;
    margin-top: -60px;
    /* Puxa pra cima para sobrepor header se quiser, ou ajustar */
    margin-right: -10px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    pointer-events: none;
    /* Deixar clicar atrav√©s se precisar */
    overflow: hidden;
    /* Corta se for muito grande */
}

.hero-full-img {
    max-height: 100%;
    max-width: 100%;
    filter: drop-shadow(5px 5px 10px rgba(0, 0, 0, 0.4));
    transition: transform 0.2s;
}

.hero-item-new:hover .hero-full-img {
    transform: scale(1.05);
}

/* HERO CONTAINER (Holds Title + Card) */
.hero-card-split {
    background: transparent;
    border: none;
    box-shadow: none;
    margin-bottom: 30px;
    display: flex;
    flex-direction: column;
}

/* NAME HEADER OUTSIDE */
.hero-title-header {
    font-family: 'Shojumaru', cursive;
    font-size: 1.4em;
    /* Reduzido */
    color: #e65100;
    text-shadow: 2px 2px 0 #fff;
    text-align: left;
    /* Alinhado com a esquerda da caixa */
    margin-bottom: 2px;
    /* Espa√ßo positivo, sem sobrepor */
    z-index: 10;
    position: relative;
    width: 100%;
    /* Permitir largura total */
    padding-left: 20px;
    white-space: nowrap;
    /* For√ßar uma linha */
    display: flex;
    align-items: center;
    gap: 10px;
}

.hero-element-icon {
    height: 28px;
    width: auto;
    filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.3));
}

/* THE ACTUAL CARD BOX */
.hero-card-inner-split {
    background: #fff;
    border: 3px solid #8b4513;
    border-radius: 12px;
    display: flex;
    flex-direction: row;
    height: 190px;
    /* Altura reduzida para quadrado aproximado */
    position: relative;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    overflow: visible;
    /* Permitir que o overlay saia pra fora */
    z-index: 1;
    margin-top: 5px;
}

/* LEFT COLUMN (50%) */
.card-left-col {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    /* Imagem no topo */
    padding: 0;
    /* Sem padding para imagem encostar */
    background: #fff;
    border-right: none;
    /* Removida a linha pontilhada */
    position: relative;
    overflow: hidden;
    /* Cortar excesso */
}

.hero-image-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    /* Alinhar topo */
    position: relative;
    padding: 0;
}

.hero-full-body-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: top center;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.3));
    transition: transform 0.3s ease;
    /* Transi√ß√£o mais suave */
    margin: 0;
    cursor: pointer;
}

.hero-full-body-img:hover {
    transform: scale(1.1);
    z-index: 10;
}

/* RIGHT COLUMN (50%) */
.card-right-col {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 10px 15px;
    background: rgba(255, 255, 255, 0.9);
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
    justify-content: flex-start;
    gap: 8px;
    /* Espa√ßo uniforme entre os elementos */
    position: relative;
}

.hero-level-display {
    font-family: 'Bangers', cursive;
    font-size: 2.2em;
    color: #333;
    border-bottom: 2px solid #ff6600;
    margin-bottom: 5px;
    text-align: right;
}

/* OVERLAY DETALHES (Preto com opacidade) Popup */
.hero-stats-overlay {
    position: absolute;
    top: -10px;
    /* Mais pra cima */
    right: -10px;
    /* Mais pra direita */
    width: 200px;
    height: auto;
    min-height: 60px;
    background: rgba(0, 0, 0, 0.9);
    color: #fff;
    padding: 15px;
    z-index: 100;
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateY(10px);
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    border-radius: 8px;
    border: 1px solid #ff9800;
    font-family: 'Roboto', sans-serif;
    text-align: left;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
}

/* Abrir ao passar o mouse apenas na Imagem ou no Bot√£o de Upgrade */
.hero-card-inner-split:hover .hero-stats-overlay {
    opacity: 0;
}

.hero-card-inner-split:has(.card-left-col:hover) .hero-stats-overlay,
.hero-card-inner-split:has(.hero-buy-btn:hover) .hero-stats-overlay {
    opacity: 1;
    transform: translateY(0);
}

.overlay-title {
    font-family: 'Shojumaru', cursive;
    color: #ff9800;
    font-size: 1.1em;
    margin-bottom: 8px;
    border-bottom: 1px solid #444;
    padding-bottom: 4px;
}

.stat-line {
    font-size: 1em;
    margin: 3px 0;
}

.stat-line strong {
    color: #ffd700;
}

.dps-increment {
    color: #4caf50;
    font-weight: bold;
    margin-left: 5px;
    text-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
}

.stat-line-desc {
    font-size: 0.85em;
    color: #bbb;
    margin-top: 5px;
    line-height: 1.2;
}

hr {
    border: 0;
    border-top: 1px solid #444;
    margin: 8px 0;
}

.hero-skills-row {
    display: flex;
    gap: 12px;
    /* Mais espa√ßo entre √≠cones */
    margin: 10px 0 10px 15px;
    /* Adicionado 15px na esquerda para chegar pra direita */
    min-height: 50px;
    align-items: center;
    justify-content: flex-start;
}

.skill-box {
    width: 45px;
    height: 45px;
    background: #1a1a1a;
    border-radius: 8px;
    border: 2px solid #5d4037;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    /* Cortar imagem nos cantos arredondados */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    transition: transform 0.1s;
}

.skill-box:hover:not(.locked) {
    transform: scale(1.1);
    z-index: 10;
}

.skill-img-icon {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.skill-box.locked {
    opacity: 0.3;
    filter: grayscale(1);
    cursor: not-allowed;
}

.skill-box.available {
    background: #5d4037;
    border-color: #ffd700;
    animation: pulseBorder 1.5s infinite;
}

.skill-box.bought {
    border-color: #00ff00;
}

.skill-check {
    position: absolute;
    top: -8px;
    right: -8px;
    color: #00ff00;
    font-size: 1.2em;
    font-weight: bold;
    text-shadow: 1px 1px 0 #000;
}

/* API Button at Bottom Right */
.hero-buy-btn {
    background: linear-gradient(to bottom, #ff9800 0%, #f57c00 100%);
    border: 2px solid #e65100;
    border-radius: 6px;
    padding: 5px 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 3px 0 #bf360c;
    transition: active 0.1s;
    margin-top: 5px;
}

.hero-buy-btn:active {
    transform: translateY(3px);
    box-shadow: none;
}

.hero-buy-btn.locked {
    background: #777;
    border-color: #555;
    box-shadow: none;
    cursor: not-allowed;
    justify-content: center;
    color: #ccc;
}

.buy-label {
    font-family: 'Bangers', cursive;
    color: white;
    font-size: 1.2em;
}

.buy-value {
    font-weight: bold;
    color: #fff;
    font-size: 1em;
}

.hero-buy-btn.disabled {
    background: #9e9e9e;
    border-color: #757575;
    cursor: not-allowed;
    box-shadow: none;
    opacity: 0.8;
}

/* Mobile Adjust */
@media (max-width: 900px) {
    .hero-card-split {
        height: auto;
        flex-direction: column;
    }

    .card-left-col {
        border-right: none;
        border-bottom: 2px dashed #dba669;
    }

    .hero-image-wrapper {
        min-height: 200px;
    }

    .hero-full-body-img {
        height: auto;
        max-height: 250px;
    }
}

/* ===== BACKPACK ICON ===== */
.backpack-icon {
    font-size: 1.2em;
    cursor: pointer;
    margin-left: 10px;
    display: inline-block;
    transition: transform 0.2s ease, filter 0.2s ease;
    filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5));
}

.backpack-icon:hover {
    transform: scale(1.15) rotate(-5deg);
    filter: drop-shadow(3px 3px 6px rgba(255, 215, 0, 0.6));
}

.backpack-icon:active {
    transform: scale(1.05);
}

/* ===== MODAL OVERLAY ===== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* ===== BACKPACK MODAL ===== */
.backpack-modal {
    background: linear-gradient(135deg, #d4a574 0%, #c89860 50%, #b8885a 100%);
    border: 6px solid #8b6f47;
    border-radius: 20px;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.8),
        inset 0 2px 10px rgba(255, 255, 255, 0.2);
    width: 90%;
    max-width: 900px;
    max-height: 85vh;
    overflow: hidden;
    position: relative;
    animation: modalSlideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes modalSlideIn {
    from {
        transform: scale(0.7) translateY(-50px);
        opacity: 0;
    }

    to {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

.modal-header {
    background: linear-gradient(to bottom, #8b6f47, #6d5638);
    padding: 20px 30px;
    border-bottom: 4px solid #5d4a2f;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
}

.modal-header h2 {
    font-family: 'Shojumaru', cursive;
    font-size: 2.2em;
    color: #fff;
    text-shadow: 3px 3px 0 #000,
        -1px -1px 0 #000,
        1px -1px 0 #000,
        -1px 1px 0 #000,
        0 0 15px rgba(255, 215, 0, 0.5);
    margin: 0;
}

.modal-close {
    background: #d32f2f;
    border: 3px solid #8b0000;
    color: #fff;
    font-size: 1.8em;
    font-weight: bold;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-close:hover {
    background: #ff5252;
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 6px 12px rgba(255, 0, 0, 0.6);
}

.modal-close:active {
    transform: rotate(90deg) scale(0.95);
}

.modal-body {
    padding: 30px;
    overflow-y: auto;
    max-height: calc(85vh - 100px);
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.1));
}

/* ===== INVENTORY GRID ===== */
.inventory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    gap: 15px;
    padding: 10px;
}

.inventory-slot {
    width: 90px;
    height: 90px;
    background: linear-gradient(135deg, #8b0000, #a52a2a);
    border: 4px solid #5d0000;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6),
        0 4px 10px rgba(0, 0, 0, 0.5);
}

.inventory-slot:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6),
        0 8px 20px rgba(255, 215, 0, 0.4);
    border-color: #ffd700;
}

.inventory-slot.empty::before {
    content: 'üîí';
    font-size: 2.5em;
    opacity: 0.3;
    filter: grayscale(1);
}

.inventory-slot.has-item {
    background: linear-gradient(135deg, #1a472a, #2e7d32);
    border-color: #1b5e20;
}

.inventory-slot.has-item:hover {
    border-color: #4caf50;
}

.item-icon {
    font-size: 3em;
    filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.8));
}

.item-count {
    position: absolute;
    bottom: 5px;
    right: 8px;
    background: rgba(0, 0, 0, 0.85);
    color: #fff;
    font-size: 0.9em;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 8px;
    border: 2px solid #ffd700;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
}

/* ===== ADMIN PANEL ===== */
#admin-trigger {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: 3px solid #4a5568;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8em;
    cursor: pointer;
    z-index: 8888;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

#admin-trigger:hover {
    transform: scale(1.15) rotate(90deg);
    box-shadow: 0 6px 25px rgba(102, 126, 234, 0.7);
}

.admin-modal {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: 6px solid #4a5568;
    border-radius: 20px;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.8),
        inset 0 2px 10px rgba(255, 255, 255, 0.2);
    width: 90%;
    max-width: 500px;
    overflow: hidden;
    position: relative;
    animation: modalSlideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.admin-input-group {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 10px;
}

.admin-input-group label {
    font-family: 'Shojumaru', cursive;
    font-size: 1.3em;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}

.admin-input-group input {
    padding: 12px 15px;
    font-size: 1.2em;
    border: 3px solid #4a5568;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    font-weight: bold;
    transition: all 0.3s ease;
}

.admin-input-group input:focus {
    outline: none;
    border-color: #ffd700;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
}

.admin-btn {
    padding: 15px 30px;
    font-size: 1.3em;
    font-weight: bold;
    background: linear-gradient(to bottom, #ffd700, #ffb700);
    border: 3px solid #8b6f00;
    border-radius: 12px;
    color: #000;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
}

.admin-btn:hover {
    background: linear-gradient(to bottom, #ffed4e, #ffd700);
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(255, 215, 0, 0.6);
}

.admin-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
}

/* Elemental Cycle Guide */
.elemental-cycle-guide {
    position: absolute;
    top: 100px;
    right: 20px;
    width: 250px;
    height: auto;
    z-index: 100;
    pointer-events: none;
    filter: drop-shadow(0 0 15px rgba(0, 0, 0, 0.6));
    opacity: 1;
    transition: opacity 0.3s ease;
}

.center-panel:hover .elemental-cycle-guide {
    opacity: 0.7;
}

/* Item Drop Notification - Redesenhada */
.item-drop-notification {
    position: fixed;
    bottom: 120px;
    right: 30px;
    background: linear-gradient(135deg, rgba(45, 27, 0, 0.95) 0%, rgba(93, 58, 26, 0.95) 100%);
    border: 3px solid #ffd700;
    border-radius: 10px;
    padding: 12px 18px;
    z-index: 10000;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6), 0 0 20px rgba(255, 215, 0, 0.3);
    animation: dropSlideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), dropFadeOut 0.4s ease-in 2.6s forwards;
    pointer-events: none;
    display: flex;
    align-items: center;
    gap: 12px;
    max-width: 280px;
}

.item-drop-notification img {
    width: 45px;
    height: 45px;
    flex-shrink: 0;
    filter: drop-shadow(0 2px 6px rgba(255, 215, 0, 0.4));
}

.item-drop-notification .drop-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.item-drop-notification .drop-text {
    font-family: 'Bangers', cursive;
    font-size: 1.1em;
    color: #ffd700;
    text-shadow: 1px 1px 3px #000;
    letter-spacing: 0.5px;
    line-height: 1;
}

.item-drop-notification .item-name {
    font-family: 'Roboto', sans-serif;
    font-size: 0.95em;
    font-weight: 500;
    color: #f0e6d2;
    text-shadow: 1px 1px 2px #000;
    line-height: 1.2;
}

@keyframes dropSlideIn {
    0% {
        opacity: 0;
        transform: translateX(100px);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes dropFadeOut {
    0% {
        opacity: 1;
        transform: translateX(0);
    }

    100% {
        opacity: 0;
        transform: translateX(50px);
    }
}

/* Item Icon Image in Inventory */
.item-icon-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* ===== SISTEMA DE MOCHILA - DESIGN MODERNO E PROFISSIONAL ===== */

/* Modal Backdrop */
.backpack-modal {
    display: flex !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 99999 !important;
    justify-content: center !important;
    align-items: center !important;
    animation: fadeIn 0.2s ease-out;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.2s, visibility 0.2s;
}

.backpack-modal.active {
    visibility: visible;
    opacity: 1;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Container Principal */
.backpack-container {
    background: linear-gradient(145deg, #1a1a1a 0%, #2d2d2d 100%);
    border: 1px solid #404040;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.05);
    max-width: 700px;
    width: 90%;
    max-height: 85vh;
    overflow: hidden;
    animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    margin: auto;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Header */
.backpack-header {
    background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
    border-bottom: 1px solid #404040;
    padding: 20px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.backpack-title {
    display: flex;
    align-items: center;
    gap: 12px;
    font-family: 'Roboto', sans-serif;
    font-size: 1.4em;
    font-weight: 600;
    color: #e0e0e0;
    letter-spacing: 0.5px;
}

.close-backpack {
    background: transparent;
    border: none;
    color: #999;
    font-size: 1.8em;
    cursor: pointer;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    transition: all 0.2s;
}

.close-backpack:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #fff;
}

/* Body */
.backpack-body {
    padding: 25px;
    max-height: calc(85vh - 80px);
    overflow-y: auto;
}

.backpack-body::-webkit-scrollbar {
    width: 8px;
}

.backpack-body::-webkit-scrollbar-track {
    background: #1a1a1a;
    border-radius: 4px;
}

.backpack-body::-webkit-scrollbar-thumb {
    background: #404040;
    border-radius: 4px;
}

.backpack-body::-webkit-scrollbar-thumb:hover {
    background: #505050;
}

/* Grid de Invent√°rio */
.inventory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
    gap: 10px;
    padding: 5px;
}

/* Slots */
.inventory-slot {
    aspect-ratio: 1;
    background: linear-gradient(145deg, #242424 0%, #1a1a1a 100%);
    border: 1px solid #333;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.2s;
    cursor: default;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
}

.inventory-slot.empty {
    opacity: 0.4;
}

.inventory-slot.empty:hover {
    background: linear-gradient(145deg, #2a2a2a 0%, #202020 100%);
    border-color: #3a3a3a;
}

.inventory-slot.has-item {
    background: linear-gradient(145deg, #2d2d2d 0%, #232323 100%);
    border-color: #4a4a4a;
    opacity: 1;
    cursor: pointer;
}

.inventory-slot.has-item:hover {
    background: linear-gradient(145deg, #353535 0%, #2a2a2a 100%);
    border-color: #5a5a5a;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6), inset 0 1px 2px rgba(255, 255, 255, 0.05);
}

/* √çcone do Item */
.item-icon {
    font-size: 2.2em;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

/* Contador de Itens */
.item-count {
    position: absolute;
    bottom: 4px;
    right: 4px;
    background: rgba(0, 0, 0, 0.85);
    color: #fff;
    font-family: 'Roboto', sans-serif;
    font-size: 0.75em;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    line-height: 1;
}

/* √çcone da Mochila no Header */
.backpack-icon {
    cursor: pointer;
    font-size: 0.9em;
    transition: transform 0.2s;
    display: inline-block;
    margin-left: 8px;
}

.backpack-icon:hover {
    transform: scale(1.15);
}

----- FILE: static/js/game.js  (sha1:c383fffdb132, bytes:11091) -----
// Estado Global do Jogo
const gameState = {
    gold: 0,
    totalDps: 0,
    clickDamage: 1,
    currentZone: 1,
    monstersKilledInZone: 0,
    heroes: [], // { id, level, currentDps, cost }
    currentMonster: {
        hp: 10,
        maxHp: 10,
        name: "Bandido",
        img: ""
    },
    statistics: {
        totalClicks: 0,
        totalKills: 0,
        maxZone: 1
    }
};

// Configura√ß√µes
const TICKS_PER_SECOND = 10;
let autoSaveInterval;

// Inicializa√ß√£o
function initGame() {
    loadGame();
    setupHeroes();
    spawnMonster();
    updateUI();
    startGameLoop();
    setupEventListeners();

    // Auto-save a cada 30s
    autoSaveInterval = setInterval(saveGame, 30000);
}

// Configura lista de her√≥is baseada no game_data.js
function setupHeroes() {
    gameState.heroes = heroesData.map(heroData => {
        // Tenta carregar estado salvo ou inicia do zero
        const savedHero = gameState.savedHeroes ? gameState.savedHeroes.find(h => h.id === heroData.id) : null;
        return {
            ...heroData,
            level: savedHero ? savedHero.level : 0,
            currentCost: savedHero ? calculateCost(heroData.baseCost, savedHero.level) : heroData.baseCost,
            currentDps: savedHero ? heroData.baseDps * savedHero.level : 0
        };
    });
    recalculateTotalDps();
    renderHeroesList();
}

function calculateCost(baseCost, currentLevel) {
    return Math.floor(baseCost * Math.pow(1.07, currentLevel));
}

function recalculateTotalDps() {
    gameState.totalDps = gameState.heroes.reduce((sum, hero) => sum + hero.currentDps, 0);
    // Dano de clique √© 1 + 1% do DPS total (m√≠nimo 1)
    gameState.clickDamage = 1 + Math.ceil(gameState.totalDps * 0.01);
}

// Renderiza√ß√£o da Lista de Her√≥is
function renderHeroesList() {
    const listContainer = document.getElementById('heroes-list');
    listContainer.innerHTML = '';

    gameState.heroes.forEach(hero => {
        const item = document.createElement('div');
        item.className = 'hero-item';
        item.id = `hero-${hero.id}`;
        item.dataset.id = hero.id;
        item.onclick = () => buyHero(hero.id);

        item.innerHTML = `
            <div class="hero-img" style="background-image: url('static/img/${hero.img}'); background-size: cover;"></div>
            <div class="hero-info">
                <div class="hero-name">${hero.name} <span class="hero-level">Nv. ${hero.level}</span></div>
                <div class="hero-stats">DPS: ${formatNumber(hero.baseDps * (hero.level || 1))} | +${formatNumber(hero.baseDps)} DPS/Lv</div>
                <div class="hero-cost">Custo: ${formatNumber(hero.currentCost)} Ryo</div>
            </div>
        `;
        listContainer.appendChild(item);
    });
}

function updateHeroUI(heroId) {
    const hero = gameState.heroes.find(h => h.id === heroId);
    if (!hero) return;

    const item = document.getElementById(`hero-${heroId}`);
    if (item) {
        item.querySelector('.hero-level').textContent = `Nv. ${hero.level}`;
        item.querySelector('.hero-cost').textContent = `Custo: ${formatNumber(hero.currentCost)} Ryo`;

        // Verifica se pode comprar visualmente
        if (gameState.gold >= hero.currentCost) {
            item.classList.remove('disabled');
        } else {
            item.classList.add('disabled');
        }
    }
}

// Mec√¢nica de Compra
function buyHero(heroId) {
    const hero = gameState.heroes.find(h => h.id === heroId);
    if (hero && gameState.gold >= hero.currentCost) {
        gameState.gold -= hero.currentCost;
        hero.level++;
        hero.currentCost = calculateCost(hero.baseCost, hero.level);
        hero.currentDps = hero.baseDps * hero.level;

        recalculateTotalDps();
        updateUI();
        renderHeroesList(); // Re-render para atualizar tudo
        logMessage(`Voc√™ contratou/treinou ${hero.name}!`);
    }
}

// Spawning de Monstros
function spawnMonster() {
    const zoneMultiplier = Math.pow(zoneData.hpMultiplier, gameState.currentZone - 1);
    gameState.currentMonster.maxHp = Math.floor(zoneData.baseHp * zoneMultiplier);
    gameState.currentMonster.hp = gameState.currentMonster.maxHp;

    const randomName = monsterNames[Math.floor(Math.random() * monsterNames.length)];
    gameState.currentMonster.name = `${randomName} (Lv. ${gameState.currentZone})`;

    // Atualiza visual
    document.getElementById('monster-name').textContent = gameState.currentMonster.name;
    // URL placeholder aleat√≥ria para monstros, em um app real usaria assets locais
    const monsterId = Math.floor(Math.random() * 10) + 1;
    document.getElementById('monster-img').src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${monsterId}.png`; // Placeholder tempor√°rio

    updateMonsterUI();
}

function damageMonster(amount, isClick = false) {
    gameState.currentMonster.hp -= amount;
    if (gameState.currentMonster.hp < 0) gameState.currentMonster.hp = 0;

    if (isClick) {
        createDamageNumber(amount, true);
        animateMonsterShake();
        gameState.statistics.totalClicks++;
    }

    if (gameState.currentMonster.hp <= 0) {
        monterDeath();
    }

    updateMonsterUI();
}

function monterDeath() {
    // Recompensa
    const zoneMultiplier = Math.pow(zoneData.coinsMultiplier, gameState.currentZone - 1);
    const goldDrop = Math.ceil(Math.random() * 5 * zoneMultiplier); // Base 1-5 * multi

    gameState.gold += goldDrop;
    gameState.statistics.totalKills++;
    gameState.monstersKilledInZone++;

    logMessage(`Monstro derrotado! +${formatNumber(goldDrop)} Ryo`);

    // Progress√£o de Zona
    if (gameState.monstersKilledInZone >= zoneData.monstersPerZone) {
        gameState.currentZone++;
        gameState.monstersKilledInZone = 0;
        if (gameState.currentZone > gameState.statistics.maxZone) {
            gameState.statistics.maxZone = gameState.currentZone;
            logMessage(`AVAN√áOU PARA ZONA ${gameState.currentZone}!`);
        }
    }

    spawnMonster();
    updateUI();
}

// Loop Principal
function startGameLoop() {
    setInterval(() => {
        // Dano autom√°tico (DPS) aplicado a cada d√©cimo de segundo
        if (gameState.totalDps > 0) {
            const dpsTick = gameState.totalDps / TICKS_PER_SECOND;
            if (dpsTick > 0 && gameState.currentMonster.hp > 0) {
                damageMonster(dpsTick, false);
            }
        }

        // Verifica bot√µes habilitados
        checkBuyButtons();

    }, 1000 / TICKS_PER_SECOND);
}

function checkBuyButtons() {
    gameState.heroes.forEach(hero => {
        const item = document.getElementById(`hero-${hero.id}`);
        if (item) {
            if (gameState.gold >= hero.currentCost) {
                item.classList.remove('disabled');
            } else {
                item.classList.add('disabled');
            }
        }
    });
}

// Event Listeners
function setupEventListeners() {
    const clickTarget = document.getElementById('click-target');
    clickTarget.addEventListener('mousedown', () => {
        damageMonster(gameState.clickDamage, true);
        clickTarget.querySelector('.monster-visual').style.transform = "scale(0.9)";
    });

    clickTarget.addEventListener('mouseup', () => {
        clickTarget.querySelector('.monster-visual').style.transform = "scale(1)";
    });
}

// UI Helpers
function updateUI() {
    document.getElementById('player-gold').textContent = formatNumber(Math.floor(gameState.gold));
    document.getElementById('total-dps').textContent = formatNumber(Math.floor(gameState.totalDps));
    document.getElementById('click-damage').textContent = formatNumber(Math.floor(gameState.clickDamage));

    document.getElementById('current-zone').textContent = gameState.currentZone;
    document.getElementById('monsters-killed').textContent = gameState.monstersKilledInZone;

    document.getElementById('stat-killed').textContent = formatNumber(gameState.statistics.totalKills);
    document.getElementById('stat-clicks').textContent = formatNumber(gameState.statistics.totalClicks);
    document.getElementById('stat-max-zone').textContent = gameState.statistics.maxZone;
}

function updateMonsterUI() {
    const pct = (gameState.currentMonster.hp / gameState.currentMonster.maxHp) * 100;
    document.getElementById('hp-fill').style.width = `${pct}%`;
    document.getElementById('current-hp').textContent = formatNumber(Math.ceil(gameState.currentMonster.hp));
}

function createDamageNumber(amount, isCrit) {
    const container = document.getElementById('damage-numbers-container');
    const el = document.createElement('div');
    el.className = 'damage-number';
    if (isCrit && Math.random() < 0.05) { // 5% chance crit visual
        el.classList.add('damage-crit');
        amount *= 2; // Cr√≠tico visual simples
    }
    el.textContent = formatNumber(Math.floor(amount));

    // Posi√ß√£o aleat√≥ria perto do centro
    const x = 50 + (Math.random() * 20 - 10);
    const y = 50 + (Math.random() * 20 - 10);

    el.style.left = `${x}%`;
    el.style.top = `${y}%`;

    container.appendChild(el);

    setTimeout(() => el.remove(), 1000);
}

function animateMonsterShake() {
    const visual = document.querySelector('.monster-visual');
    visual.classList.remove('shake');
    void visual.offsetWidth; // Trigger reflow
    visual.classList.add('shake');
}

function logMessage(msg) {
    const log = document.getElementById('battle-log');
    const p = document.createElement('p');
    p.textContent = msg;
    log.prepend(p);
    if (log.children.length > 20) log.lastChild.remove();
}

function formatNumber(num) {
    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
    return Math.floor(num).toString();
}

// Persistence
function saveGame() {
    const saveObj = {
        gold: gameState.gold,
        currentZone: gameState.currentZone,
        savedHeroes: gameState.heroes.map(h => ({ id: h.id, level: h.level })),
        statistics: gameState.statistics
    };
    localStorage.setItem('narutoClickerSave', JSON.stringify(saveObj));
    // console.log("Jogo Salvo");
}

function loadGame() {
    const saveStr = localStorage.getItem('narutoClickerSave');
    if (saveStr) {
        try {
            const saved = JSON.parse(saveStr);
            gameState.gold = saved.gold || 0;
            gameState.currentZone = saved.currentZone || 1;
            gameState.savedHeroes = saved.savedHeroes || [];
            gameState.statistics = { ...gameState.statistics, ...saved.statistics };
            logMessage("Progresso carregado!");
        } catch (e) {
            console.error("Erro ao carregar save", e);
        }
    }
}

// Start
window.onload = initGame;


----- FILE: static/js/game_data.js  (sha1:ee8ff0e04b9f, bytes:4368) -----
const heroesData = [
    { id: 1, name: "Iruka Umino", baseCost: 10, baseDps: 1, img: "iruka.png" },
    { id: 2, name: "Mizuki", baseCost: 100, baseDps: 5, img: "mizuki.png" },
    { id: 3, name: "Konohamaru Sarutobi", baseCost: 500, baseDps: 12, img: "konohamaru.png" },
    { id: 4, name: "Ebisu", baseCost: 1000, baseDps: 25, img: "ebisu.png" },
    { id: 5, name: "Tenten", baseCost: 2500, baseDps: 50, img: "tenten.png" },
    { id: 6, name: "Ino Yamanaka", baseCost: 5000, baseDps: 80, img: "ino.png" },
    { id: 7, name: "Kiba Inuzuka", baseCost: 12000, baseDps: 150, img: "kiba.png" },
    { id: 8, name: "Shino Aburame", baseCost: 25000, baseDps: 300, img: "shino.png" },
    { id: 9, name: "Hinata Hyuga (Genin)", baseCost: 60000, baseDps: 550, img: "hinata_genin.png" },
    { id: 10, name: "Choji Akimichi", baseCost: 150000, baseDps: 1000, img: "choji.png" },
    { id: 11, name: "Shikamaru Nara", baseCost: 400000, baseDps: 2200, img: "shikamaru.png" },
    { id: 12, name: "Sakura Haruno (Genin)", baseCost: 1000000, baseDps: 4500, img: "sakura_genin.png" },
    { id: 13, name: "Sasuke Uchiha (Genin)", baseCost: 2500000, baseDps: 9000, img: "sasuke_genin.png" },
    { id: 14, name: "Naruto Uzumaki (Genin)", baseCost: 6000000, baseDps: 18000, img: "naruto_genin.png" },
    { id: 15, name: "Haku", baseCost: 15000000, baseDps: 40000, img: "haku.png" },
    { id: 16, name: "Zabuza Momochi", baseCost: 40000000, baseDps: 90000, img: "zabuza.png" },
    { id: 17, name: "Rock Lee (Port√µes)", baseCost: 100000000, baseDps: 200000, img: "rocklee.png" },
    { id: 18, name: "Neji Hyuga", baseCost: 300000000, baseDps: 500000, img: "neji.png" },
    { id: 19, name: "Gaara do Deserto", baseCost: 800000000, baseDps: 1200000, img: "gaara.png" },
    { id: 20, name: "Kabuto Yakushi", baseCost: 2000000000, baseDps: 3000000, img: "kabuto.png" },
    { id: 21, name: "Kimimaro", baseCost: 5000000000, baseDps: 7000000, img: "kimimaro.png" },
    { id: 22, name: "Yamato", baseCost: 12000000000, baseDps: 15000000, img: "yamato.png" },
    { id: 23, name: "Sai", baseCost: 30000000000, baseDps: 35000000, img: "sai.png" },
    { id: 24, name: "Asuma Sarutobi", baseCost: 80000000000, baseDps: 85000000, img: "asuma.png" },
    { id: 25, name: "Kakashi Hatake", baseCost: 200000000000, baseDps: 200000000, img: "kakashi.png" },
    { id: 26, name: "Might Guy (7 Port√µes)", baseCost: 500000000000, baseDps: 500000000, img: "guy.png" },
    { id: 27, name: "Kisame Hoshigaki", baseCost: 1500000000000, baseDps: 1200000000, img: "kisame.png" },
    { id: 28, name: "Deidara", baseCost: 4000000000000, baseDps: 3000000000, img: "deidara.png" },
    { id: 29, name: "Sasori", baseCost: 10000000000000, baseDps: 7000000000, img: "sasori.png" },
    { id: 30, name: "Kakuzu", baseCost: 25000000000000, baseDps: 15000000000, img: "kakuzu.png" },
    { id: 31, name: "Hidan", baseCost: 70000000000000, baseDps: 40000000000, img: "hidan.png" },
    { id: 32, name: "Itachi Uchiha", baseCost: 200000000000000, baseDps: 100000000000, img: "itachi.png" },
    { id: 33, name: "Jiraiya", baseCost: 600000000000000, baseDps: 300000000000, img: "jiraiya.png" },
    { id: 34, name: "Orochimaru", baseCost: 2000000000000000, baseDps: 800000000000, img: "orochimaru.png" },
    { id: 35, name: "Tsunade Senju", baseCost: 7000000000000000, baseDps: 2500000000000, img: "tsunade.png" },
    { id: 36, name: "Pain (Nagato)", baseCost: 25000000000000000, baseDps: 8000000000000, img: "pain.png" },
    { id: 37, name: "Minato Namikaze", baseCost: 100000000000000000, baseDps: 30000000000000, img: "minato.png" },
    { id: 38, name: "Hashirama Senju", baseCost: 500000000000000000, baseDps: 150000000000000, img: "hashirama.png" },
    { id: 39, name: "Madara Uchiha (Rikudou)", baseCost: 2000000000000000000, baseDps: 800000000000000, img: "madara.png" },
    { id: 40, name: "Naruto (Modo Baryon)", baseCost: 10000000000000000000, baseDps: 5000000000000000, img: "naruto_baryon.png" }
];

const zoneData = {
    baseHp: 10,
    hpMultiplier: 1.55, // HP cresce 55% por level
    coinsMultiplier: 1.5,
    monstersPerZone: 10
};

const monsterNames = [
    "Bandido", "Ninja Renegado", "Zetsu Branco", "Clone das Sombras", "Marionete", 
    "Cobra Gigante", "Sapo Gigante", "Lesma Gigante", "Corvo", "Guerreiro Susanoo"
];


----- FILE: static/js/game_data_v3.js  (sha1:ec69e900d8ca, bytes:10523) -----
const heroesData = [
    { id: 1, name: "Naruto Uzumaki", baseCost: 10, baseDps: 1, img: "./static/img/heroes/icons/naruto_icon.png", focus: "center center", element: "wind" },
    { id: 2, name: "Sasuke Uchiha", baseCost: 100, baseDps: 5, img: "./static/img/heroes/icons/sasuke_icon.png", focus: "center center", element: "fire" },
    { id: 3, name: "Sakura Haruno", baseCost: 500, baseDps: 12, img: "./static/img/heroes/icons/sakura_icon.png", focus: "center center", element: "water" },
    { id: 4, name: "Kiba Inuzuka", baseCost: 1000, baseDps: 25, img: "./static/img/heroes/icons/kiba_icon.png", element: "wind" },
    { id: 5, name: "Shino Aburame", baseCost: 2500, baseDps: 50, img: "./static/img/heroes/icons/shino_icon.png", element: "water" },
    { id: 6, name: "Hinata Hyuga", baseCost: 5000, baseDps: 80, img: "./static/img/heroes/icons/hinata_icon.png", element: "water" },
    { id: 7, name: "Shikamaru Nara", baseCost: 12000, baseDps: 150, img: "./static/img/heroes/icons/shikamaru_icon.png", element: "earth" },
    { id: 8, name: "Choji Akimichi", baseCost: 25000, baseDps: 300, img: "./static/img/heroes/icons/choji_icon.png", element: "fire" },
    { id: 9, name: "Ino Yamanaka", baseCost: 60000, baseDps: 550, img: "./static/img/heroes/icons/ino_icon.png", element: "fire" },
    { id: 10, name: "Rock Lee", baseCost: 150000, baseDps: 1000, img: "./static/img/heroes/icons/lee_icon.png", element: null },
    { id: 11, name: "Tenten", baseCost: 400000, baseDps: 2200, img: "./static/img/heroes/icons/tenten_icon.png", element: "lightning" },
    { id: 12, name: "Neji", baseCost: 1000000, baseDps: 4500, img: "./static/img/heroes/icons/neji_icon.png", element: "lightning" },
    { id: 13, name: "Gaara", baseCost: 2500000, baseDps: 9000, img: "./static/img/heroes/icons/gaara_icon.png", element: "earth" },
    { id: 14, name: "Temari", baseCost: 6000000, baseDps: 18000, img: "./static/img/heroes/icons/temari_icon.png", element: "wind" },
    { id: 15, name: "Kankuro", baseCost: 15000000, baseDps: 40000, img: "./static/img/heroes/icons/kankuro_icon.png", element: "earth" },
    { id: 16, name: "Iruka Umino", baseCost: 40000000, baseDps: 90000, img: "https://placehold.co/100x100/4a3b2a/ffffff?text=Iruka" },
    { id: 17, name: "Mizuki", baseCost: 100000000, baseDps: 200000, img: "https://placehold.co/100x100/555555/ffffff?text=Mizuki" },
    { id: 18, name: "Konohamaru", baseCost: 300000000, baseDps: 500000, img: "https://placehold.co/100x100/ffd700/000000?text=Konohamaru" },
    { id: 19, name: "Haku", baseCost: 800000000, baseDps: 1200000, img: "https://placehold.co/100x100/add8e6/000000?text=Haku" },
    { id: 20, name: "Zabuza", baseCost: 2000000000, baseDps: 3000000, img: "https://placehold.co/100x100/2f4f4f/ffffff?text=Zabuza" },
    { id: 21, name: "Kabuto", baseCost: 5000000000, baseDps: 7000000, img: "https://placehold.co/100x100/4b0082/ffffff?text=Kabuto" },
    { id: 22, name: "Kimimaro", baseCost: 12000000000, baseDps: 15000000, img: "https://placehold.co/100x100/f5f5f5/000000?text=Kimimaro" },
    { id: 23, name: "Itachi", baseCost: 30000000000, baseDps: 35000000, img: "https://placehold.co/100x100/000000/ff0000?text=Itachi" },
    { id: 24, name: "Kisame", baseCost: 80000000000, baseDps: 85000000, img: "https://placehold.co/100x100/000080/ffffff?text=Kisame" },
    { id: 25, name: "Jiraiya", baseCost: 200000000000, baseDps: 200000000, img: "https://placehold.co/100x100/8b4513/ffffff?text=Jiraiya" },
    { id: 26, name: "Tsunade", baseCost: 500000000000, baseDps: 500000000, img: "https://placehold.co/100x100/98fb98/000000?text=Tsunade" },
    { id: 27, name: "Orochimaru", baseCost: 1500000000000, baseDps: 1200000000, img: "https://placehold.co/100x100/483d8b/ffffff?text=Orochimaru" },
    { id: 28, name: "Kakashi", baseCost: 4000000000000, baseDps: 3000000000, img: "https://placehold.co/100x100/778899/ffffff?text=Kakashi" },
    { id: 29, name: "Guy", baseCost: 10000000000000, baseDps: 7000000000, img: "https://placehold.co/100x100/006400/ffffff?text=Might+Guy" },
    { id: 30, name: "Asuma", baseCost: 25000000000000, baseDps: 15000000000, img: "https://placehold.co/100x100/2f4f4f/ffffff?text=Asuma" },
    { id: 31, name: "Yamato", baseCost: 70000000000000, baseDps: 40000000000, img: "https://placehold.co/100x100/8b4513/ffffff?text=Yamato" },
    { id: 32, name: "Sai", baseCost: 200000000000000, baseDps: 100000000000, img: "https://placehold.co/100x100/000000/ffffff?text=Sai" },
    { id: 33, name: "Deidara", baseCost: 600000000000000, baseDps: 300000000000, img: "https://placehold.co/100x100/ffd700/000000?text=Deidara" },
    { id: 34, name: "Sasori", baseCost: 2000000000000000, baseDps: 800000000000, img: "https://placehold.co/100x100/8b0000/ffffff?text=Sasori" },
    { id: 35, name: "Hidan", baseCost: 7000000000000000, baseDps: 2500000000000, img: "https://placehold.co/100x100/dc143c/ffffff?text=Hidan" },
    { id: 36, name: "Kakuzu", baseCost: 25000000000000000, baseDps: 8000000000000, img: "https://placehold.co/100x100/2f4f4f/ffffff?text=Kakuzu" },
    { id: 37, name: "Pain", baseCost: 100000000000000000, baseDps: 30000000000000, img: "https://placehold.co/100x100/ff4500/ffffff?text=Pain" },
    { id: 38, name: "Konan", baseCost: 500000000000000000, baseDps: 150000000000000, img: "https://placehold.co/100x100/4169e1/ffffff?text=Konan" },
    { id: 39, name: "Obito", baseCost: 2000000000000000000, baseDps: 800000000000000, img: "https://placehold.co/100x100/4b0082/ffffff?text=Obito" },
    { id: 40, name: "Madara", baseCost: 10000000000000000000, baseDps: 5000000000000000, img: "https://placehold.co/100x100/800000/ffffff?text=Madara" }
];

// Defini√ß√£o Manual de Skills para os Principais (Fiel ao Anime)
const specificUpgrades = {
    1: [ // Naruto
        { id: "h1_u1", reqLevel: 20, type: "SELF_DPS_MULT", value: 2, costMultiplier: 10, icon: "./static/img/skills/skill_1_1.png", name: "Kage Bunshin no Jutsu", desc: "Dano de Clique x2" },
        { id: "h1_u2", reqLevel: 40, type: "SELF_DPS_MULT", value: 2, costMultiplier: 50, icon: "./static/img/skills/skill_1_2.png", name: "Tajuu Kage Bunshin", desc: "Dano de Clique x2" },
        { id: "h1_u3", reqLevel: 60, type: "GLOBAL_DPS_MULT", value: 1.1, costMultiplier: 200, icon: "./static/img/skills/skill_1_3.png", name: "Rasengan", desc: "DPS de Todos +10%" },
        { id: "h1_u4", reqLevel: 80, type: "CRIT_CHANCE", value: 0.01, costMultiplier: 1000, icon: "./static/img/skills/skill_1_4.png", name: "Chakra da Kyuubi", desc: "Chance Cr√≠tica +1%" }
    ],
    2: [ // Sasuke
        { id: "h2_u1", reqLevel: 20, type: "SELF_DPS_MULT", value: 2, costMultiplier: 10, icon: "./static/img/skills/skill_3_1.png", name: "Sharingan", desc: "DPS do Sasuke x2" },
        { id: "h2_u2", reqLevel: 40, type: "SELF_DPS_MULT", value: 2, costMultiplier: 50, icon: "./static/img/skills/skill_3_2.png", name: "Chidori", desc: "DPS do Sasuke x2" },
        { id: "h2_u3", reqLevel: 60, type: "GLOBAL_DPS_MULT", value: 1.1, costMultiplier: 200, icon: "./static/img/skills/skill_3_3.png", name: "Katon: Goukakyuu no Jutsu", desc: "DPS de Todos +10%" },
        { id: "h2_u4", reqLevel: 80, type: "CRIT_CHANCE", value: 0.01, costMultiplier: 1000, icon: "./static/img/skills/skill_3_4.png", name: "Shurikenjutsu Uchiha", desc: "Chance Cr√≠tica +1%" }
    ],
    3: [ // Sakura
        { id: "h3_u1", reqLevel: 20, type: "SELF_DPS_MULT", value: 2, costMultiplier: 10, icon: "./static/img/skills/skill_2_1.png", name: "Controle Preciso de Chakra", desc: "DPS da Sakura x2" },
        { id: "h3_u2", reqLevel: 40, type: "GLOBAL_DPS_MULT", value: 1.1, costMultiplier: 50, icon: "./static/img/skills/skill_2_2.png", name: "Golpe de F√¥r√ßa Concentrada", desc: "DPS de Todos +10%" },
        { id: "h3_u3", reqLevel: 60, type: "SELF_DPS_MULT", value: 2, costMultiplier: 200, icon: "./static/img/skills/skill_2_3.png", name: "An√°lise de Combate", desc: "DPS da Sakura x2" },
        { id: "h3_u4", reqLevel: 80, type: "GLOBAL_DPS_MULT", value: 1.2, costMultiplier: 1000, icon: "./static/img/skills/skill_2_4.png", name: "Resist√™ncia Mental", desc: "DPS de Todos +20%" }
    ]
};

const heroUpgrades = {}; // Map heroId -> Array of upgrades

heroesData.forEach(hero => {
    if (specificUpgrades[hero.id]) {
        heroUpgrades[hero.id] = specificUpgrades[hero.id].map(u => ({ ...u, heroId: hero.id }));
    } else {
        // Gerador Gen√©rico Tem√°tico
        heroUpgrades[hero.id] = [
            {
                id: `h${hero.id}_u1`,
                heroId: hero.id,
                reqLevel: 20,
                type: "SELF_DPS_MULT",
                value: 2,
                costMultiplier: 10,
                icon: "üó°Ô∏è",
                name: `T√©cnica Secreta I`,
                desc: "Dano deste her√≥i x2"
            },
            {
                id: `h${hero.id}_u2`,
                heroId: hero.id,
                reqLevel: 40,
                type: "GLOBAL_DPS_MULT",
                value: 1.1,
                costMultiplier: 50,
                icon: "üìú",
                name: "Estrat√©gia Ninja",
                desc: "DPS de todos +10%"
            },
            {
                id: `h${hero.id}_u3`,
                heroId: hero.id,
                reqLevel: 60,
                type: "SELF_DPS_MULT",
                value: 2,
                costMultiplier: 200,
                icon: "‚ú®",
                name: `T√©cnica Secreta II`,
                desc: "Dano deste her√≥i x2"
            },
            {
                id: `h${hero.id}_u4`,
                heroId: hero.id,
                reqLevel: 80,
                type: "GLOBAL_DPS_MULT",
                value: 1.2, // Buff global gen√©rico forte
                costMultiplier: 1000,
                icon: "üõ°Ô∏è",
                name: "Poder Oculto",
                desc: "DPS de todos +20%"
            }
        ];
    }
});

const zoneData = {
    baseHp: 10,
    hpMultiplier: 2.05,
    coinsMultiplier: 1.5,
    monstersPerZone: 10
};

const monsterNames = ["Ninja de Elite"];

// Lista de varia√ß√µes do Ninja de Elite
const monsterImages = [
    "./static/img/enemies/enemy_main.png",
    "./static/img/enemies/enemy_v4.png",
    "./static/img/enemies/enemy_v5.png",
    "./static/img/enemies/enemy_v6.png"
];

// Imagem do Boss (aparece a cada 5 fases)
const bossImage = "./static/img/enemies/boss.png";


----- FILE: static/js/game_v3.js  (sha1:c32d25ccb42b, bytes:36843) -----
console.log('üéÆ Game v3.js carregado - VERS√ÉO 5 - Boss Timer');
// Estado Global do Jogo
const gameState = {
    gold: 0,
    totalDps: 0,
    clickDamage: 1,
    critChance: 0, // Inicia em 0%
    clickCritMultiplier: 2,
    currentZone: 1,
    monstersKilledInZone: 0,
    heroes: [],
    upgrades: [], // IDs dos upgrades comprados
    currentMonster: {
        hp: 10,
        maxHp: 10,
        name: "Bandido",
        img: ""
    },
    statistics: {
        totalClicks: 0,
        totalKills: 0,
        maxZone: 1
    },
    lastEnemyIndex: -1, // Para evitar repeti√ß√£o consecutiva
    inventory: [], // Mochila de itens
    bossTimer: 30, // Cron√¥metro de boss (30 segundos)
    bossTimerInterval: null // Refer√™ncia ao intervalo do cron√¥metro
};

// Configura√ß√µes
const TICKS_PER_SECOND = 10;
let autoSaveInterval;

// Inicializa√ß√£o
function initGame() {
    loadGame();
    setupHeroes();
    spawnMonster();
    renderArenas();
    updateUI();
    startGameLoop();
    setupEventListeners();

    // Auto-save a cada 30s
    autoSaveInterval = setInterval(saveGame, 30000);
}

// Configura lista de her√≥is baseada no game_data.js
function setupHeroes() {
    gameState.heroes = heroesData.map(heroData => {
        const savedHero = gameState.savedHeroes ? gameState.savedHeroes.find(h => h.id === heroData.id) : null;
        return {
            ...heroData,
            level: savedHero ? savedHero.level : 0,
            currentCost: savedHero ? calculateCost(heroData.baseCost, savedHero.level) : heroData.baseCost,
            currentDps: savedHero ? heroData.baseDps * savedHero.level : 0
        };
    });
    recalculateTotalDps();
    renderHeroesList();
}

function calculateCost(baseCost, currentLevel) {
    return Math.floor(baseCost * Math.pow(1.07, currentLevel));
}

function recalculateTotalDps() {
    let dps = 0;
    let clickCtx = 1;
    let globalMulti = 1;
    let critChanceAcc = 0;

    // Processar Global Upgrades & Crit
    gameState.upgrades.forEach(uId => {
        // Encontrar info do upgrade
        for (const hid in heroUpgrades) {
            const upg = heroUpgrades[hid].find(u => u.id === uId);
            if (upg) {
                if (upg.type === 'GLOBAL_DPS_MULT') globalMulti *= upg.value;
                if (upg.type === 'CRIT_CHANCE') critChanceAcc += upg.value;
            }
        }
    });

    gameState.critChance = critChanceAcc;

    // Calcular DPS Individual com Multiplicadores Self
    gameState.heroes.forEach(hero => {
        let heroDps = hero.baseDps * hero.level;

        // Self Multipliers
        const heroUps = heroUpgrades[hero.id];
        if (heroUps) {
            heroUps.forEach(upg => {
                if (gameState.upgrades.includes(upg.id) && upg.type === 'SELF_DPS_MULT') {
                    heroDps *= upg.value;
                }
            });
        }

        hero.currentDps = heroDps;

        if (hero.id === 1) {
            clickCtx += hero.currentDps;
        } else {
            dps += hero.currentDps;
        }
    });

    gameState.totalDps = dps * globalMulti;
    gameState.clickDamage = clickCtx * globalMulti;
}

// Renderiza√ß√£o da Lista de Her√≥is (Split Layout: Left Name/Img, Right Info)
function renderHeroesList() {
    const listContainer = document.getElementById('heroes-list');
    listContainer.innerHTML = '';

    for (let i = 0; i < gameState.heroes.length; i++) {
        const hero = gameState.heroes[i];
        let status = 'hidden';

        if (i === 0) status = 'revealed';
        else {
            const prevHero = gameState.heroes[i - 1];
            if (prevHero.level > 0) status = 'revealed';
            else {
                if (i === 1) status = 'mystery';
                else {
                    const prevPrevHero = gameState.heroes[i - 2];
                    if (prevPrevHero && prevPrevHero.level > 0) status = 'mystery';
                }
            }
        }

        if (status === 'hidden') break;

        const item = document.createElement('div');
        item.className = 'hero-card-split'; // Usando nova classe de layout
        if (status === 'mystery') item.classList.add('mystery-hero');
        item.id = `hero-${hero.id}`;

        const isLocked = status === 'mystery';

        let displayName = isLocked ? "???" : hero.name;
        // Se estiver bloqueado mostra placeholder, se n√£o mostra a imagem definida (agora full body pro naruto)
        let displayImg = isLocked ? "https://placehold.co/100x100/000000/ffffff?text=?" : hero.img;
        let displayCost = formatNumber(hero.currentCost);
        let dpsVal = hero.currentDps;

        // HTML Structure

        // --- NAME OUTSIDE (Side-by-Side) ---
        // Se estiver bloqueado mostra ???
        // Se disponivel, mostra Nome + Sobrenome (ou apenas nome completo estilizado)
        // O usuario pediu "nome e sobrenome um ao lado do outro".
        // displayName j√° √© "Naruto Uzumaki".

        let elementImg = "";
        if (!isLocked && hero.element) {
            elementImg = `<img src="./static/img/elements/${hero.element}.png" class="hero-element-icon" title="Elemento: ${hero.element}">`;
        }

        let nameTitleHTML = `
            <div class="hero-title-header">
                ${displayName} ${elementImg}
            </div>
        `;

        // --- COLUNA ESQUERDA: APENAS IMAGEM ---
        // Remover nome daqui de dentro
        // Aplicando foco din√¢mico (inteligente) se definido, sen√£o padr√£o topo
        let focusStyle = hero.focus ? `style="object-position: ${hero.focus}"` : '';

        let leftColHTML = `
            <div class="card-left-col">
                <div class="hero-image-wrapper">
                    <img src="${displayImg}" class="hero-full-body-img" alt="${displayName}" ${focusStyle}>
                </div>
            </div>
        `;

        // --- COLUNA DIREITA: NIVEL -> STATUS -> SKILLS -> BOTAO ---

        // 1. N√≠vel
        let levelHTML = isLocked ? `<div class="hero-level-display">???</div>` : `<div class="hero-level-display" id="hero-level-text-${hero.id}">N√≠vel ${hero.level}</div>`;

        // 2. Status (Dano/DPS) agora vai para o OVERLAY
        let statsHTML = "";
        if (isLocked) {
            statsHTML = `<div class="hero-stats-text">???</div>`;
        } else {
            // Calcular o incremento de DPS do pr√≥ximo n√≠vel
            const nextLevelDps = hero.baseDps * Math.pow(1.07, hero.level + 1);
            const dpsIncrement = Math.abs(nextLevelDps - dpsVal);

            if (hero.id === 1) {
                statsHTML = `<div class="stat-line"><strong>Dano de Clique:</strong> <span id="hero-stat-val-${hero.id}">${formatNumber(dpsVal)}</span> <span class="dps-increment">+${formatNumber(dpsIncrement)}</span></div>`;
            } else {
                statsHTML = `<div class="stat-line"><strong>Dano por Segundo:</strong> <span id="hero-stat-val-${hero.id}">${formatNumber(dpsVal)}</span> <span class="dps-increment">+${formatNumber(dpsIncrement)}</span></div>`;
            }
        }

        // 4. Bot√£o de Compra
        let buyButtonHTML = "";
        if (!isLocked) {
            buyButtonHTML = `
                <div class="hero-buy-btn" onclick="buyHero(${hero.id})">
                    <span class="buy-label">UPGRADE</span>
                    <span class="buy-value">üí∞ <span id="hero-cost-text-${hero.id}">${displayCost}</span></span>
                </div>
            `;
        } else {
            buyButtonHTML = `
                <div class="hero-buy-btn locked">
                    <span>BLOQUEADO</span>
                </div>
            `;
        }

        // 3. Skills (NOW BELOW UPGRADE)
        let skillsHTML = '<div class="hero-skills-row">';
        if (!isLocked) {
            const upgrades = heroUpgrades[hero.id];
            if (upgrades) {
                upgrades.forEach(upg => {
                    const isBought = gameState.upgrades.includes(upg.id);
                    const isUnlocked = hero.level >= upg.reqLevel;

                    let upgClass = 'skill-box';
                    if (isBought) upgClass += ' bought';
                    else if (isUnlocked) upgClass += ' available';
                    else upgClass += ' locked';

                    const upgCost = hero.baseCost * upg.costMultiplier;

                    // Handle Image Icons
                    const isImageIcon = upg.icon.startsWith('./') || upg.icon.startsWith('http');
                    const iconContent = isImageIcon ? `<img src="${upg.icon}" class="skill-img-icon">` : upg.icon;

                    skillsHTML += `
                        <div class="${upgClass}" 
                             id="upg-${upg.id}"
                             onclick="buyUpgrade('${upg.id}', ${upgCost}, ${hero.id})">
                             <div class="skill-icon">${iconContent}</div>
                             ${isBought ? '<div class="skill-check">‚úî</div>' : ''}
                             <div class="tooltip">
                                <strong>${upg.name}</strong><br>
                                ${upg.desc}<br>
                                Custo: ${formatNumber(upgCost)}
                             </div>
                        </div>
                    `;
                });
            }
        }
        skillsHTML += '</div>';

        let rightColHTML = `
            <div class="card-right-col">
                ${levelHTML}
                ${skillsHTML}
                ${buyButtonHTML}
            </div>
        `;

        let overlayHTML = `
            <div class="hero-stats-overlay">
                ${statsHTML}
            </div>
        `;

        item.innerHTML = nameTitleHTML + `
            <div class="hero-card-inner-split">
                ${leftColHTML}
                ${rightColHTML}
                ${overlayHTML}
            </div>
        `;

        if (isLocked) {
            item.classList.add('locked-mystery');
        }

        listContainer.appendChild(item);
    }
}

function updateHeroUI(heroId) {
    const hero = gameState.heroes.find(h => h.id === heroId);
    if (!hero) return;

    // Atualizar N√≠vel
    const levelEl = document.getElementById(`hero-level-text-${hero.id}`);
    if (levelEl) levelEl.textContent = `N√≠vel ${hero.level}`;

    // Atualizar Custo
    const costEl = document.getElementById(`hero-cost-text-${hero.id}`);
    if (costEl) costEl.textContent = formatNumber(hero.currentCost);

    // Atualizar Valor de Dano no Overlay
    const statEl = document.getElementById(`hero-stat-val-${hero.id}`);
    if (statEl) statEl.textContent = formatNumber(hero.currentDps);

    // Verificar se desbloqueou algum slot de upgrade (20, 40, 60, 80)
    // Se sim, precisamos re-renderizar para mostrar o quadradinho
    const upgradeThresholds = [20, 40, 60, 80];
    if (upgradeThresholds.includes(hero.level)) {
        renderHeroesList();
    }
}

// Mec√¢nica de Compra de Heroi
function buyHero(heroId) {
    // Note: click event is handled via HTML onclick, arguments passed directly
    const hero = gameState.heroes.find(h => h.id === heroId);

    if (hero && gameState.gold >= hero.currentCost) {
        gameState.gold -= hero.currentCost;
        const oldLevel = hero.level;
        hero.level++;
        hero.currentCost = calculateCost(hero.baseCost, hero.level);
        hero.currentDps = hero.baseDps * hero.level;

        recalculateTotalDps();
        updateUI();

        if (oldLevel === 0) {
            renderHeroesList(); // Desbloqueia pr√≥ximo
        } else {
            updateHeroUI(heroId);
        }
    }
}

// Mec√¢nica de Compra de Upgrade
function buyUpgrade(upgId, cost, heroId) {
    event.stopPropagation(); // Impede borbulhar para compra de heroi
    if (gameState.upgrades.includes(upgId)) return;

    const hero = gameState.heroes.find(h => h.id === heroId);
    if (!hero) return;

    // Verificar requisitos
    const upg = heroUpgrades[heroId].find(u => u.id === upgId);
    if (!upg || hero.level < upg.reqLevel) return;

    if (gameState.gold >= cost) {
        gameState.gold -= cost;
        gameState.upgrades.push(upgId);
        recalculateTotalDps();
        updateUI();
        renderHeroesList();
    }
}

// Arena / Zoning Logic
function changeZone(direction) {
    if (direction === 'next') {
        if (gameState.currentZone < gameState.statistics.maxZone) {
            gameState.currentZone++;
            gameState.monstersKilledInZone = 0;
            spawnMonster();
            renderArenas();
            updateUI();
        }
    } else if (direction === 'prev') {
        if (gameState.currentZone > 1) {
            gameState.currentZone--;
            gameState.monstersKilledInZone = 0;
            spawnMonster();
            renderArenas();
            updateUI();
        }
    }
}

function renderArenas() {
    const container = document.getElementById('arenas-display');
    if (!container) return; // Safety
    container.innerHTML = '';

    let startZone = Math.max(1, gameState.currentZone - 2);
    let endZone = Math.max(gameState.currentZone + 2, gameState.statistics.maxZone + 1);

    if (endZone - startZone < 4) {
        endZone = startZone + 4;
    }

    for (let z = startZone; z <= endZone; z++) {
        if (z > gameState.statistics.maxZone + 1 && z > 1) continue;

        const box = document.createElement('div');
        box.className = 'arena-box';
        box.textContent = z;

        if (z === gameState.currentZone) {
            box.classList.add('active');
        }

        if (z > gameState.statistics.maxZone) {
            box.classList.add('locked');
        } else {
            box.onclick = () => {
                if (z !== gameState.currentZone) {
                    gameState.currentZone = z;
                    gameState.monstersKilledInZone = 0;
                    spawnMonster();
                    renderArenas();
                    updateUI();
                }
            };
        }
        container.appendChild(box);
    }
}


// Spawning de Monstros
function spawnMonster() {
    if (!gameState.currentMonster) return;

    // Verifica se √© uma fase de boss (m√∫ltiplo de 5)
    const isBossZone = gameState.currentZone % 5 === 0;

    // Calcular HP baseado na progress√£o SEM contar fases de boss
    // Fases de boss n√£o contam para a progress√£o
    // Exemplo: Fase 1, 2, 3, 4, 6, 7, 8, 9, 11, 12...
    // A fase 5 (boss) n√£o conta, ent√£o fase 6 = progress√£o 5
    // A fase 10 (boss) n√£o conta, ent√£o fase 11 = progress√£o 9

    let effectiveZone;
    if (isBossZone) {
        // Boss: usar a zona anterior (que n√£o √© boss)
        effectiveZone = gameState.currentZone - 1;
    } else {
        // Inimigo normal: calcular quantas fases de boss j√° passaram
        const bossPhasesPassed = Math.floor((gameState.currentZone - 1) / 5);
        effectiveZone = gameState.currentZone - bossPhasesPassed;
    }

    // Calcular HP do inimigo normal baseado na zona efetiva
    const zoneMultiplier = Math.pow(zoneData.hpMultiplier, effectiveZone - 1);
    const normalEnemyHp = Math.floor(zoneData.baseHp * zoneMultiplier);

    if (isBossZone) {
        // Boss tem multiplicador progressivo baseado na f√≥rmula:
        // BossMultiplier(n) = 8 + (n √ó 0.1)
        // Com limite m√°ximo de 20x
        let bossMultiplier = 8 + (gameState.currentZone * 0.1);
        bossMultiplier = Math.min(bossMultiplier, 20); // Limitar a 20x

        gameState.currentMonster.maxHp = Math.floor(normalEnemyHp * bossMultiplier);
    } else {
        // Inimigo normal
        gameState.currentMonster.maxHp = normalEnemyHp;
    }

    gameState.currentMonster.hp = gameState.currentMonster.maxHp;

    const randomName = monsterNames[Math.floor(Math.random() * monsterNames.length)];
    gameState.currentMonster.name = `${randomName} (Lv. ${gameState.currentZone})`;

    const nameEl = document.getElementById('monster-name');
    if (nameEl) nameEl.textContent = gameState.currentMonster.name;

    const imgEl = document.getElementById('monster-img');
    if (imgEl) {
        if (isBossZone) {
            // Boss: usa imagem especial
            imgEl.src = bossImage;

            // Iniciar cron√¥metro de boss
            startBossTimer();

            // Esconder contador de monstros e mostrar cron√¥metro
            const monstersKilledEl = document.querySelector('.zone-progress-info');
            if (monstersKilledEl) monstersKilledEl.style.display = 'none';

            const bossTimerEl = document.getElementById('boss-timer');
            if (bossTimerEl) bossTimerEl.style.display = 'block';
        } else {
            // Inimigo normal: l√≥gica para evitar repetir o mesmo monstro em seguida
            let newIdx;
            do {
                newIdx = Math.floor(Math.random() * monsterImages.length);
            } while (newIdx === gameState.lastEnemyIndex && monsterImages.length > 1);

            gameState.lastEnemyIndex = newIdx;
            imgEl.src = monsterImages[newIdx];

            // Parar cron√¥metro se estiver rodando
            stopBossTimer();

            // Mostrar contador de monstros e esconder cron√¥metro
            const monstersKilledEl = document.querySelector('.zone-progress-info');
            if (monstersKilledEl) monstersKilledEl.style.display = 'block';

            const bossTimerEl = document.getElementById('boss-timer');
            if (bossTimerEl) bossTimerEl.style.display = 'none';
        }

        // Escalamento: a cada 5 fases aumenta 2% (1.02) para inimigos normais
        // Boss √© sempre 120% do tamanho do inimigo anterior
        let sizeMultiplier;
        if (isBossZone) {
            // Boss = tamanho base da zona anterior * 1.2
            const previousZoneMultiplier = Math.pow(1.02, Math.floor((gameState.currentZone - 1) / 5));
            sizeMultiplier = previousZoneMultiplier * 1.2;
        } else {
            sizeMultiplier = Math.pow(1.02, Math.floor(gameState.currentZone / 5));
        }

        imgEl.style.transform = `scale(${sizeMultiplier})`;
    }

    updateMonsterUI();
}

function damageMonster(amount, isClick = false) {
    let finalDmg = amount;
    let isCrit = false;

    if (isClick && gameState.critChance > 0) {
        if (Math.random() < gameState.critChance) {
            finalDmg *= gameState.clickCritMultiplier;
            isCrit = true;
        }
    }

    gameState.currentMonster.hp -= finalDmg;
    if (gameState.currentMonster.hp < 0) gameState.currentMonster.hp = 0;

    if (isClick) {
        createDamageNumber(finalDmg, isCrit);
        animateMonsterShake();
        animateMonsterHitScale(); // Nova anima√ß√£o de aumento
        gameState.statistics.totalClicks++;
    }

    if (gameState.currentMonster.hp <= 0) {
        monterDeath();
    }

    updateMonsterUI();
}

function monterDeath() {
    // Recompensa
    const zoneMultiplier = Math.pow(zoneData.coinsMultiplier, gameState.currentZone - 1);
    const goldDrop = Math.ceil(Math.random() * 3 * zoneMultiplier);

    gameState.gold += goldDrop;
    gameState.statistics.totalKills++;

    // Verificar se √© boss
    const isBoss = gameState.currentZone % 5 === 0;

    if (isBoss) {
        // Boss morto: parar cron√¥metro e avan√ßar para pr√≥xima zona
        stopBossTimer();

        // Desbloquear pr√≥xima zona se for a zona m√°xima
        if (gameState.currentZone === gameState.statistics.maxZone) {
            gameState.statistics.maxZone++;
            renderArenas();
        }

        // Resetar contador de monstros mortos
        gameState.monstersKilledInZone = 0;
    } else {
        // Inimigo normal: incrementar contador
        gameState.monstersKilledInZone++;

        // Sistema de Drop de Itens
        // Apenas inimigos comuns (n√£o bosses) nas arenas 10-15 com 2% de chance
        const isInDropZone = gameState.currentZone >= 10 && gameState.currentZone <= 15;
        const dropChance = 0.02; // 2%

        if (isInDropZone && Math.random() < dropChance) {
            // Item dropado: Veneno
            const droppedItem = {
                icon: './static/img/items/poison.png',
                name: 'Frasco de Veneno',
                description: 'Um veneno mortal usado por ninjas',
                count: 1,
                isImage: true
            };

            // Adicionar ao invent√°rio
            if (addItemToInventory(droppedItem)) {
                // Mostrar notifica√ß√£o visual
                showItemDropNotification(droppedItem);
            }
        }

        // Desbloqueia pr√≥xima zona se matar o necess√°rio na zona MAXIMA atual
        if (gameState.monstersKilledInZone >= zoneData.monstersPerZone) {
            if (gameState.currentZone === gameState.statistics.maxZone) {
                gameState.statistics.maxZone++;
                renderArenas();
                gameState.monstersKilledInZone = 0;
            } else {
                gameState.monstersKilledInZone = 0;
            }
        }
    }

    spawnMonster();
    updateUI();
}

// ===== SISTEMA DE CRON√îMETRO DE BOSS =====
function startBossTimer() {
    // Parar qualquer cron√¥metro anterior
    stopBossTimer();

    // Resetar para 30 segundos
    gameState.bossTimer = 30;
    updateBossTimerDisplay();

    // Iniciar intervalo de 1 segundo
    gameState.bossTimerInterval = setInterval(() => {
        gameState.bossTimer--;
        updateBossTimerDisplay();

        // Adicionar classe de aviso quando restarem 10 segundos ou menos
        const bossTimerEl = document.getElementById('boss-timer');
        if (gameState.bossTimer <= 10) {
            if (bossTimerEl) bossTimerEl.classList.add('warning');
        } else {
            if (bossTimerEl) bossTimerEl.classList.remove('warning');
        }

        // Quando chegar a 0, resetar vida do boss
        if (gameState.bossTimer <= 0) {
            resetBossHealth();
        }
    }, 1000);
}

function stopBossTimer() {
    if (gameState.bossTimerInterval) {
        clearInterval(gameState.bossTimerInterval);
        gameState.bossTimerInterval = null;
    }

    // Remover classe de aviso
    const bossTimerEl = document.getElementById('boss-timer');
    if (bossTimerEl) bossTimerEl.classList.remove('warning');
}

function updateBossTimerDisplay() {
    const bossTimerValueEl = document.getElementById('boss-timer-value');
    if (bossTimerValueEl) {
        bossTimerValueEl.textContent = gameState.bossTimer;
    }
}

function resetBossHealth() {
    // Resetar vida do boss para o m√°ximo
    gameState.currentMonster.hp = gameState.currentMonster.maxHp;
    updateMonsterUI();

    // Reiniciar cron√¥metro
    startBossTimer();

    console.log('‚è±Ô∏è Tempo esgotado! Vida do boss resetada.');
}

// Loop Principal
function startGameLoop() {
    setInterval(() => {
        if (gameState.totalDps > 0) {
            const dpsTick = gameState.totalDps / TICKS_PER_SECOND;
            if (dpsTick > 0 && gameState.currentMonster.hp > 0) {
                damageMonster(dpsTick, false);
            }
        }
        checkBuyButtons();
    }, 1000 / TICKS_PER_SECOND);
}

function checkBuyButtons() {
    // Apenas verifica se tem dinheiro para remover classe disabled nos herois?
    // Visualmente apenas. A logica √© checada no clique.
    // Como agora usamos renderHeroesList com frequencia, pode ser redundante se nao otimizado.
    // Mas vamos manter simples:
    gameState.heroes.forEach(hero => {
        const item = document.getElementById(`hero-${hero.id}`);
        if (item) {
            const btn = item.querySelector('.hero-buy-btn');
            if (btn && !btn.classList.contains('locked')) { // locked class is for mystery
                if (gameState.gold >= hero.currentCost) {
                    btn.classList.remove('disabled');
                } else {
                    btn.classList.add('disabled');
                }
            }
        }
    });

    // Upgrades
    gameState.heroes.forEach(hero => {
        const ups = heroUpgrades[hero.id];
        if (ups) {
            ups.forEach(u => {
                const el = document.getElementById(`upg-${u.id}`);
                const cost = hero.baseCost * u.costMultiplier;
                if (el) {
                    if (gameState.gold >= cost) {
                        el.style.borderColor = "#00ff00"; // Highlight available?
                        // ou usar classe .available se level permitir.
                        // renderHeroesList ja define .available baseado em level.
                    } else {
                        // el.style.borderColor = "";
                    }
                }
            });
        }
    });
}

// Event Listeners
function setupEventListeners() {
    const clickTarget = document.getElementById('click-target');
    if (clickTarget) {
        clickTarget.addEventListener('mousedown', (e) => {
            e.preventDefault();
            damageMonster(gameState.clickDamage, true);
            const vis = clickTarget.querySelector('.monster-visual');
            if (vis) vis.style.transform = "scale(0.9)";
        });

        clickTarget.addEventListener('mouseup', () => {
            const vis = clickTarget.querySelector('.monster-visual');
            if (vis) vis.style.transform = "scale(1)";
        });
    }

    const prevBtn = document.getElementById('prev-zone');
    if (prevBtn) prevBtn.onclick = () => changeZone('prev');
    const nextBtn = document.getElementById('next-zone');
    if (nextBtn) nextBtn.onclick = () => changeZone('next');

    // Configurar eventos da mochila
    setupBackpackEventListeners();
}

// UI Helpers
function updateUI() {
    const goldEl = document.getElementById('player-gold');
    if (goldEl) goldEl.textContent = formatNumber(Math.floor(gameState.gold));

    const dpsEl = document.getElementById('total-dps');
    if (dpsEl) dpsEl.textContent = formatNumber(Math.floor(gameState.totalDps));

    const clickValEl = document.getElementById('click-damage-val');
    if (clickValEl) clickValEl.textContent = formatNumber(Math.floor(gameState.clickDamage));

    const mkEl = document.getElementById('monsters-killed');
    if (mkEl) mkEl.textContent = gameState.monstersKilledInZone;

    // Stats footer/header
    const skEl = document.getElementById('stat-killed');
    if (skEl) skEl.textContent = formatNumber(gameState.statistics.totalKills);
    const scEl = document.getElementById('stat-clicks');
    if (scEl) scEl.textContent = formatNumber(gameState.statistics.totalClicks);
    const smzEl = document.getElementById('stat-max-zone');
    if (smzEl) smzEl.textContent = gameState.statistics.maxZone;
}

function updateMonsterUI() {
    if (!gameState.currentMonster) return;
    const pct = (gameState.currentMonster.hp / gameState.currentMonster.maxHp) * 100;
    const fill = document.getElementById('hp-fill');
    if (fill) fill.style.width = `${pct}%`;

    const curHp = document.getElementById('current-hp');
    if (curHp) curHp.textContent = formatNumber(Math.ceil(gameState.currentMonster.hp));
}

function createDamageNumber(amount, isCrit) {
    const container = document.getElementById('damage-numbers-container');
    if (!container) return;

    const el = document.createElement('div');
    el.className = 'damage-number';
    if (isCrit) {
        el.classList.add('damage-crit');
    }
    el.textContent = formatNumber(Math.floor(amount));

    const x = 50 + (Math.random() * 20 - 10);
    const y = 50 + (Math.random() * 20 - 10);

    el.style.left = `${x}%`;
    el.style.top = `${y}%`;

    container.appendChild(el);

    setTimeout(() => el.remove(), 1000);
}

function animateMonsterShake() {
    const visual = document.querySelector('.monster-visual');
    if (visual) {
        visual.classList.remove('shake');
        void visual.offsetWidth;
        visual.classList.add('shake');
    }
}

function animateMonsterHitScale() {
    const visual = document.querySelector('.monster-visual');
    if (visual) {
        visual.classList.remove('hit-scale');
        void visual.offsetWidth; // Reflow
        visual.classList.add('hit-scale');
    }
}

function showItemDropNotification(item) {
    // Criar elemento de notifica√ß√£o
    const notification = document.createElement('div');
    notification.className = 'item-drop-notification';

    // Criar conte√∫do
    const iconHTML = item.isImage
        ? `<img src="${item.icon}" alt="${item.name}">`
        : `<div style="font-size: 2.5em;">${item.icon}</div>`;

    notification.innerHTML = `
        ${iconHTML}
        <div class="drop-content">
            <div class="drop-text">ITEM ENCONTRADO!</div>
            <div class="item-name">${item.name}</div>
        </div>
    `;

    // Adicionar ao body
    document.body.appendChild(notification);

    // Remover ap√≥s 3 segundos
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

function formatNumber(num) {
    if (num >= 1000000000000) return (num / 1000000000000).toFixed(2) + 'T';
    if (num >= 1000000000) return (num / 1000000000).toFixed(2) + 'B';
    if (num >= 1000000) return (num / 1000000).toFixed(2) + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
    return Math.floor(num).toString();
}

// Persistence
function saveGame() {
    const saveObj = {
        gold: gameState.gold,
        currentZone: gameState.currentZone,
        savedHeroes: gameState.heroes.map(h => ({ id: h.id, level: h.level })),
        upgrades: gameState.upgrades,
        statistics: gameState.statistics,
        inventory: gameState.inventory
    };
    localStorage.setItem('narutoClickerSave', JSON.stringify(saveObj));
}

function loadGame() {
    const saveStr = localStorage.getItem('narutoClickerSave');
    if (saveStr) {
        try {
            const saved = JSON.parse(saveStr);
            gameState.gold = saved.gold || 0;
            gameState.currentZone = saved.currentZone || 1;
            gameState.savedHeroes = saved.savedHeroes || [];
            gameState.upgrades = saved.upgrades || [];
            gameState.statistics = { ...gameState.statistics, ...saved.statistics };
            gameState.inventory = saved.inventory || [];
            if (!gameState.statistics.maxZone) gameState.statistics.maxZone = 1;
        } catch (e) {
            console.error("Erro save", e);
        }
    }
}

function resetGame() {
    if (confirm("TEM CERTEZA? Isso apagar√° todo o seu progresso para sempre!")) {
        localStorage.removeItem('narutoClickerSave');
        location.reload();
    }
}

// ===== SISTEMA DE MOCHILA =====
function setupBackpackEventListeners() {
    console.log('üéí Configurando eventos da mochila...');
    const openBackpackBtn = document.getElementById('open-backpack');
    const closeBackpackBtn = document.getElementById('close-backpack');
    const backpackModal = document.getElementById('backpack-modal');

    if (!openBackpackBtn || !closeBackpackBtn || !backpackModal) {
        console.warn('‚ö†Ô∏è Elementos da mochila n√£o encontrados');
        return;
    }
    console.log('‚úÖ Elementos da mochila encontrados, configurando listeners...');

    // Abrir modal
    openBackpackBtn.addEventListener('click', () => {
        console.log('üéí Abrindo mochila...');
        backpackModal.classList.add('active');
        console.log('Classes do modal:', backpackModal.className);
        renderInventory();
    });

    // Fechar modal
    closeBackpackBtn.addEventListener('click', () => {
        console.log('‚ùå Fechando mochila (bot√£o X)...');
        backpackModal.classList.remove('active');
    });

    // Fechar ao clicar fora do modal (no backdrop)
    backpackModal.addEventListener('click', (e) => {
        if (e.target === backpackModal) {
            console.log('‚ùå Fechando mochila (clique fora)...');
            backpackModal.classList.remove('active');
        }
    });

    // Inicializar grid de invent√°rio
    initializeInventory();

    // Inicializar painel admin
    setupAdminPanel();
}

function initializeInventory() {
    const inventoryGrid = document.getElementById('inventory-grid');
    const totalSlots = 40;

    for (let i = 0; i < totalSlots; i++) {
        const slot = document.createElement('div');
        slot.className = 'inventory-slot empty';
        slot.dataset.slotIndex = i;
        inventoryGrid.appendChild(slot);
    }
}

function addItemToInventory(newItem) {
    // Verificar se o item j√° existe no invent√°rio (mesmo nome)
    const existingItem = gameState.inventory.find(item => item && item.name === newItem.name);

    if (existingItem) {
        // Se j√° existe, aumentar a contagem
        existingItem.count += newItem.count;
    } else {
        // Se n√£o existe, adicionar em um slot vazio
        const emptySlotIndex = gameState.inventory.findIndex(item => !item);

        if (emptySlotIndex !== -1) {
            // Tem slot vazio, adicionar l√°
            gameState.inventory[emptySlotIndex] = newItem;
        } else if (gameState.inventory.length < 40) {
            // N√£o tem slot vazio mas ainda tem espa√ßo
            gameState.inventory.push(newItem);
        } else {
            // Invent√°rio cheio
            console.warn('‚ö†Ô∏è Invent√°rio cheio! N√£o foi poss√≠vel adicionar o item.');
            return false;
        }
    }

    // Salvar o jogo ap√≥s adicionar item
    saveGame();
    return true;
}

function renderInventory() {
    const slots = document.querySelectorAll('.inventory-slot');

    slots.forEach((slot, index) => {
        const item = gameState.inventory[index];

        if (item) {
            slot.className = 'inventory-slot has-item';

            // Verificar se o √≠cone √© uma imagem ou emoji
            const iconHTML = item.isImage
                ? `<img src="${item.icon}" class="item-icon-img" alt="${item.name}">`
                : `<span class="item-icon">${item.icon}</span>`;

            slot.innerHTML = `
                ${iconHTML}
                ${item.count > 1 ? `<span class="item-count">x${item.count}</span>` : ''}
            `;
            slot.title = `${item.name}\n${item.description}`;
        } else {
            slot.className = 'inventory-slot empty';
            slot.innerHTML = '';
            slot.title = 'Slot vazio';
        }
    });
}

// ===== ADMIN PANEL =====
function setupAdminPanel() {
    const adminTrigger = document.getElementById('admin-trigger');
    const adminModal = document.getElementById('admin-modal');
    const closeAdminBtn = document.getElementById('close-admin');
    const addGoldBtn = document.getElementById('add-gold-btn');
    const goldInput = document.getElementById('gold-input');

    // Abrir modal admin
    adminTrigger.addEventListener('click', () => {
        adminModal.style.display = 'flex';
        goldInput.value = '';
        goldInput.focus();
    });

    // Fechar modal admin
    closeAdminBtn.addEventListener('click', () => {
        adminModal.style.display = 'none';
    });

    // Fechar ao clicar fora
    adminModal.addEventListener('click', (e) => {
        if (e.target === adminModal) {
            adminModal.style.display = 'none';
        }
    });

    // Adicionar ouro
    addGoldBtn.addEventListener('click', () => {
        const amount = parseFloat(goldInput.value);
        if (amount && amount > 0) {
            gameState.gold += amount;
            updateUI();
            saveGame();
            goldInput.value = '';
            console.log(`‚úÖ Admin: Adicionado ${formatNumber(amount)} de ouro`);
        }
    });

    // Enter para adicionar
    goldInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            addGoldBtn.click();
        }
    });
}

window.onload = initGame;



----- FILE: templates/index.html  (sha1:7ddc7467d3a1, bytes:5385) -----
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naruto Clicker Heroes</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=8">
    <link
        href="https://fonts.googleapis.com/css2?family=Bangers&family=Shojumaru&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="game-container">
        <!-- Coluna Esquerda: Her√≥is -->
        <div class="panel left-panel">
            <div class="gold-display-left">
                üí∞ <span id="player-gold">0</span>
            </div>
            <div class="header-panel">
                <h2>Equipe Ninja <span class="backpack-icon" id="open-backpack" title="Mochila">üéí</span></h2>
                <div class="stats-display-container">
                    <div class="dps-display">DPS: <span id="total-dps">0</span></div>
                    <div class="click-display">Click: <span id="click-damage-val">1</span></div>
                </div>
            </div>
            <div id="heroes-list" class="scroll-content">
                <!-- Her√≥is ser√£o inseridos aqui via JS -->
            </div>
        </div>

        <!-- Coluna Central: A√ß√£o -->
        <div class="panel center-panel">
            <img src="{{ url_for('static', filename='img/elemental_cycle.png') }}" class="elemental-cycle-guide"
                alt="Ciclo Elemental">


            <div class="arena-selector-container">
                <button id="prev-zone" class="nav-btn">‚óÄ</button>
                <div class="arenas-scroll">
                    <div id="arenas-display">
                        <!-- Arenas visuais -->
                    </div>
                </div>
                <button id="next-zone" class="nav-btn">‚ñ∂</button>
            </div>


            <div class="battle-arena">
                <div class="zone-progress-info">
                    <span id="monsters-killed">0</span>/10
                </div>
                <!-- Cron√¥metro de Boss -->
                <div id="boss-timer" class="boss-timer" style="display: none;">
                    ‚è±Ô∏è <span id="boss-timer-value">30</span>s
                </div>
                <div id="damage-numbers-container"></div>
                <div class="monster-container" id="click-target">
                    <div class="monster-hp-bar">
                        <div id="hp-fill" style="width: 100%;"></div>
                    </div>
                    <div class="monster-hp-text"><span id="current-hp">10</span> HP</div>
                    <div class="monster-visual">
                        <img id="monster-img" src="" alt="Monstro">
                    </div>
                </div>

                <div class="player-controls">
                    <!-- Controls -->
                </div>
            </div>
        </div>

        <!-- Coluna Direita: Progresso e Status -->
        <div class="panel right-panel">
            <h3>Estat√≠sticas</h3>
            <ul id="stats-list">
                <li>Monstros Derrotados: <span id="stat-killed">0</span></li>
                <li>Cliques Realizados: <span id="stat-clicks">0</span></li>
                <li>Maior Zona: <span id="stat-max-zone">1</span></li>
            </ul>
            <div class="reset-container">
                <button id="reset-save-btn" class="reset-btn" onclick="resetGame()">RESETAR PROGRESSO</button>
            </div>
        </div>
    </div>

    <!-- Modal da Mochila -->
    <div id="backpack-modal" class="backpack-modal">
        <div class="backpack-container">
            <div class="backpack-header">
                <div class="backpack-title">
                    <span class="backpack-icon">üéí</span>
                    Invent√°rio
                </div>
                <button class="close-backpack" id="close-backpack">‚úñ</button>
            </div>
            <div class="backpack-body">
                <div id="inventory-grid" class="inventory-grid">
                    <!-- Slots ser√£o gerados via JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Admin (Cheat) -->
    <div id="admin-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content admin-modal">
            <div class="modal-header">
                <h2>‚öôÔ∏è Admin Panel</h2>
                <button class="modal-close" id="close-admin">‚úñ</button>
            </div>
            <div class="modal-body">
                <div class="admin-input-group">
                    <label for="gold-input">Adicionar Ouro:</label>
                    <input type="number" id="gold-input" placeholder="Digite a quantidade..." min="0" step="1000">
                    <button id="add-gold-btn" class="admin-btn">üí∞ Adicionar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bot√£o Admin (Discreto) -->
    <div id="admin-trigger" title="Admin Panel">‚öôÔ∏è</div>

    <script src="{{ url_for('static', filename='js/game_data_v3.js') }}?v=5"></script>
    <script src="{{ url_for('static', filename='js/game_v3.js') }}?v=8"></script>
</body>

</html>